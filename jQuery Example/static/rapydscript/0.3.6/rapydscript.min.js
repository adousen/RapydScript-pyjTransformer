;/*!/ast.js*/
function DEFNODE(t,e,o,n){var i,a,r,s,l;for(arguments.length<4&&(n=AST_Node),e=e?e.split(/\s+/):[],i=e,n&&n.PROPS&&(e=e.concat(n.PROPS)),r="return function AST_"+t+"(props){ if (props) { ",l=e.length-1;l>-1;l-=1)r+="this."+e[l]+" = props."+e[l]+";";if(a=n&&new n,(a&&a.initialize||o&&o.initialize)&&(r+="this.initialize();"),r+="}}",s=new Function(r)(),a&&(s.prototype=a,s.BASE=n),n&&n.SUBCLASSES.push(s),s.prototype.CTOR=s,s.PROPS=e||null,s.SELF_PROPS=i,s.SUBCLASSES=[],t&&(s.prototype.TYPE=s.TYPE=t),o)for(l in o)o.hasOwnProperty(l)&&(/^\$/.test(l)?s[l.substr(1)]=o[l]:s.prototype[l]=o[l]);return s.DEFMETHOD=function(t,e){this.prototype[t]=e},s}function walk_body(t,e){t.body instanceof AST_Statement?t.body._walk(e):t.body.forEach(function(t){t._walk(e)})}function TreeWalker(t){this.visit=t,this.stack=[]}var AST_Token,AST_Node,AST_Statement,AST_Debugger,AST_Directive,AST_SimpleStatement,AST_Block,AST_BlockStatement,AST_EmptyStatement,AST_StatementWithBody,AST_LabeledStatement,AST_DWLoop,AST_Do,AST_While,AST_ForIn,AST_ForJS,AST_ListComprehension,AST_With,AST_Scope,AST_Toplevel,AST_Import,AST_Decorator,AST_Lambda,AST_Accessor,AST_Function,AST_Class,AST_Module,AST_Method,AST_Jump,AST_Exit,AST_Return,AST_Throw,AST_LoopControl,AST_Break,AST_Continue,AST_If,AST_Switch,AST_SwitchBranch,AST_Default,AST_Case,AST_Try,AST_Catch,AST_Except,AST_Finally,AST_Definitions,AST_Var,AST_Const,AST_VarDef,AST_BaseCall,AST_Call,AST_ClassCall,AST_New,AST_Seq,AST_PropAccess,AST_Dot,AST_Sub,AST_Splice,AST_Unary,AST_UnaryPrefix,AST_UnaryPostfix,AST_Binary,AST_Conditional,AST_Assign,AST_Array,AST_TupleUnpack,AST_Object,AST_ObjectProperty,AST_ObjectKeyVal,AST_ObjectSetter,AST_ObjectGetter,AST_Symbol,AST_SymbolAccessor,AST_SymbolDeclaration,AST_SymbolVar,AST_SymbolConst,AST_SymbolFunarg,AST_SymbolDefun,AST_SymbolLambda,AST_SymbolCatch,AST_Label,AST_SymbolRef,AST_LabelRef,AST_This,AST_Constant,AST_String,AST_Verbatim,AST_Number,AST_RegExp,AST_Atom,AST_Null,AST_NaN,AST_Undefined,AST_Hole,AST_Infinity,AST_Boolean,AST_False,AST_True;AST_Token=DEFNODE("Token","type value line col pos endpos nlb comments_before file",{},null),AST_Node=DEFNODE("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(t){return t._visit(this)},walk:function(t){return this._walk(t)}},null),AST_Node.warn_function=null,AST_Node.warn=function(t,e){AST_Node.warn_function&&AST_Node.warn_function(string_template(t,e))},AST_Statement=DEFNODE("Statement",null,{$documentation:"Base class of all statements"}),AST_Debugger=DEFNODE("Debugger",null,{$documentation:"Represents a debugger statement"},AST_Statement),AST_Directive=DEFNODE("Directive","value scope",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects"}},AST_Statement),AST_SimpleStatement=DEFNODE("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(t){return t._visit(this,function(){this.body._walk(t)})}},AST_Statement),AST_Block=DEFNODE("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(t){return t._visit(this,function(){walk_body(this,t)})}},AST_Statement),AST_BlockStatement=DEFNODE("BlockStatement",null,{$documentation:"A block statement"},AST_Block),AST_EmptyStatement=DEFNODE("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(t){return t._visit(this)}},AST_Statement),AST_StatementWithBody=DEFNODE("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(t){return t._visit(this,function(){this.body._walk(t)})}},AST_Statement),AST_LabeledStatement=DEFNODE("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(t){return t._visit(this,function(){this.label._walk(t),this.body._walk(t)})}},AST_StatementWithBody),AST_DWLoop=DEFNODE("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_walk:function(t){return t._visit(this,function(){this.condition._walk(t),this.body._walk(t)})}},AST_StatementWithBody),AST_Do=DEFNODE("Do",null,{$documentation:"A `do` statement"},AST_DWLoop),AST_While=DEFNODE("While",null,{$documentation:"A `while` statement"},AST_DWLoop),AST_ForIn=DEFNODE("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(t){return t._visit(this,function(){this.init._walk(t),this.object._walk(t),this.body._walk(t)})}},AST_StatementWithBody),AST_ForJS=DEFNODE("ForJS","condition",{$documentation:"A `for ... in` statement",$propdoc:{condition:"[AST_Verbatim] raw JavaScript conditional"}},AST_StatementWithBody),AST_ListComprehension=DEFNODE("ListComprehension","condition statement",{$documentation:"A list comprehension expression",$propdoc:{condition:"[AST_Node] the `if` condition",statement:"[AST_Node] statement to perform on each element before returning it"}},AST_ForIn),AST_With=DEFNODE("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.body._walk(t)})}},AST_StatementWithBody),AST_Scope=DEFNODE("Scope","directives variables localvars functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",localvars:"[SymbolDef*] list of variables local to this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},AST_Block),AST_Toplevel=DEFNODE("Toplevel","globals baselib imports strict shebang import_order module_id exports submodules classes",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names",baselib:"[Object/s] a collection of used parts of baselib",imports:"[Object/S] a map of module_id->AST_Toplevel for all imported modules",nonlocalvars:"[String*] a list of all non-local variable names (names that come from the global scope)",strict:"[boolean/S] true if strict directive is in scope",shebang:"[string] If #! line is present, it will be stored here",import_order:"[number] The global order in which this scope was imported",module_id:"[string] The id of this module",exports:"[SymbolDef*] list of names exported from this module",submodules:"[string*] list of names exported from this module",classes:"[Object/S] a map of class names to AST_Class for classes defined in this module"},wrap_enclose:function(t){var e,o,n,i;return e=this,o=[],n=[],t.forEach(function(t){var e;e=t.split(":"),o.push(e[0]),n.push(e[1])}),i="(function("+n.join(",")+"){ '$ORIG'; })("+o.join(",")+")",i=parse(i),i=i.transform(new TreeTransformer(function(t){return t instanceof AST_Directive&&"$ORIG"===t.value?MAP.splice(e.body):void 0}))},wrap_commonjs:function(t,e){var o,n,i;return o=this,n=[],e&&(o.figure_out_scope(),o.walk(new TreeWalker(function(t){t instanceof AST_SymbolDeclaration&&t.definition().global&&(find_if(function(e){return e.name===t.name},n)||n.push(t))}))),i="(function(exports, global){ global['"+t+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))",i=parse(i),i=i.transform(new TreeTransformer(function(t){var e,i;if(t instanceof AST_SimpleStatement&&(t=t.body,t instanceof AST_String)){if(e=t.getValue(),"$ORIG"===e)return MAP.splice(o.body);if("$EXPORTS"===e)return i=[],n.forEach(function(t){i.push(new AST_SimpleStatement({body:new AST_Assign({left:new AST_Sub({expression:new AST_SymbolRef({name:"exports"}),property:new AST_String({value:t.name})}),operator:"=",right:new AST_SymbolRef(t)})}))}),MAP.splice(i)}}))}},AST_Scope),AST_Import=DEFNODE("Import","module key argnames body",{$documentation:"Container for imports",$propdoc:{module:"[AST_SymbolVar] name of the module we're importing",key:"[string] The key by which this module is stored in the global modules mapping",argnames:"[AST_SymbolVar*] names of objects to be imported",body:"[AST_TopLevel] parsed contents of the imported file"}},AST_Statement),AST_Decorator=DEFNODE("Decorator","name",{$documentation:"Class for function decorators",$propdoc:{name:"[string] decorator name"}}),AST_Lambda=DEFNODE("Lambda","name argnames uses_arguments decorators",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array",decorators:"[AST_Decorator*] function decorators, if any"},_walk:function(t){return t._visit(this,function(){this.name&&this.name._walk(t),this.argnames.forEach(function(e){e._walk(t)}),walk_body(this,t)})}},AST_Scope),AST_Accessor=DEFNODE("Accessor",null,{$documentation:"A setter/getter function"},AST_Lambda),AST_Function=DEFNODE("Function",null,{$documentation:"A function expression"},AST_Lambda),AST_Class=DEFNODE("Class","init name parent static external bound decorators module_id",{$documentation:"A class declaration",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this class",init:"[AST_Function] constructor for the class",parent:"[AST_Class?] parent class this class inherits from","static":"[string*] list of static methods",external:"[boolean] true if class is declared elsewhere, but will be within current scope at runtime",bound:"[string*] list of methods that need to be bound to behave correctly (function pointers)",decorators:"[AST_Decorator*] function decorators, if any",module_id:"[string] The id of the module this class is defined in"},_walk:function(t){return t._visit(this,function(){this.name._walk(t),walk_body(this,t),this.parent._walk(t)})}},AST_Scope),AST_Module=DEFNODE("Module","name external decorators",{$documentation:"A module definition, meant to abstract a group of related classes and/or functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this class",external:"[boolean] true if module is declared elsewhere, but will be within current scope at runtime",decorators:"[AST_Decorator*] module decorators, if any"}},AST_Scope),AST_Method=DEFNODE("Defun","static",{$documentation:"A class method definition",$propdoc:{"static":"[boolean] true if method is static"}},AST_Lambda),AST_Jump=DEFNODE("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},AST_Statement),AST_Exit=DEFNODE("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(t){return t._visit(this,this.value&&function(){this.value._walk(t)})}},AST_Jump),AST_Return=DEFNODE("Return",null,{$documentation:"A `return` statement"},AST_Exit),AST_Throw=DEFNODE("Throw",null,{$documentation:"A `throw` statement"},AST_Exit),AST_LoopControl=DEFNODE("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(t){return t._visit(this,this.label&&function(){this.label._walk(t)})}},AST_Jump),AST_Break=DEFNODE("Break",null,{$documentation:"A `break` statement"},AST_LoopControl),AST_Continue=DEFNODE("Continue",null,{$documentation:"A `continue` statement"},AST_LoopControl),AST_If=DEFNODE("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(t){return t._visit(this,function(){this.condition._walk(t),this.body._walk(t),this.alternative&&this.alternative._walk(t)})}},AST_StatementWithBody),AST_Switch=DEFNODE("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),walk_body(this,t)})}},AST_Block),AST_SwitchBranch=DEFNODE("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},AST_Block),AST_Default=DEFNODE("Default",null,{$documentation:"A `default` switch branch"},AST_SwitchBranch),AST_Case=DEFNODE("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),walk_body(this,t)})}},AST_SwitchBranch),AST_Try=DEFNODE("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(t){return t._visit(this,function(){walk_body(this,t),this.bcatch&&this.bcatch._walk(t),this.bfinally&&this.bfinally._walk(t)})}},AST_Block),AST_Catch=DEFNODE("Catch",null,{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{},_walk:function(t){return t._visit(this,function(){this.argname._walk(t),walk_body(this,t)})}},AST_Block),AST_Except=DEFNODE("Except","argname errors",{$documentation:"An `except` node for RapydScript, which resides inside the catch block",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception",errors:"[AST_SymbolVar*] error classes to catch in this block"}},AST_Block),AST_Finally=DEFNODE("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},AST_Block),AST_Definitions=DEFNODE("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(t){return t._visit(this,function(){this.definitions.forEach(function(e){e._walk(t)})})}},AST_Statement),AST_Var=DEFNODE("Var",null,{$documentation:"A `var` statement"},AST_Definitions),AST_Const=DEFNODE("Const",null,{$documentation:"A `const` statement"},AST_Definitions),AST_VarDef=DEFNODE("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null if there's no initializer"},_walk:function(t){return t._visit(this,function(){this.name._walk(t),this.value&&this.value._walk(t)})}}),AST_BaseCall=DEFNODE("BaseCall","args",{$documentation:"A base class for function calls",$propdoc:{args:"[AST_Node*] array of arguments"}}),AST_Call=DEFNODE("Call","expression",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.args.forEach(function(e){e._walk(t)})})}},AST_BaseCall),AST_ClassCall=DEFNODE("ClassCall","class method static",{$documentation:"A function call expression",$propdoc:{"class":"[string] name of the class method belongs to",method:"[string] class method being called","static":"[boolean] defines whether the method is static"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.args.forEach(function(e){e._walk(t)})})}},AST_BaseCall),AST_New=DEFNODE("New",null,{$documentation:"An object instantiation. Derives from a function call since it has exactly the same properties"},AST_Call),AST_Seq=DEFNODE("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(t,e){var o;return o=new AST_Seq(t),o.car=t,o.cdr=e,o},$from_array:function(t){var e,o,n;if(0===t.length)return null;if(1===t.length)return t[0].clone();for(e=null,o=t.length-1;o>-1;o-=1)e=AST_Seq.cons(t[o],e);for(n=e;n;){if(n.cdr&&!n.cdr.cdr){n.cdr=n.cdr.car;break}n=n.cdr}return e},to_array:function(){var t,e;for(e=this,t=[];e;){if(t.push(e.car),e.cdr&&!(e.cdr instanceof AST_Seq)){t.push(e.cdr);break}e=e.cdr}return t},add:function(t){var e,o;for(o=this;o;){if(!(o.cdr instanceof AST_Seq))return e=AST_Seq.cons(o.cdr,t),o.cdr=e;o=o.cdr}},_walk:function(t){return t._visit(this,function(){this.car._walk(t),this.cdr&&this.cdr._walk(t)})}}),AST_PropAccess=DEFNODE("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),AST_Dot=DEFNODE("Dot",null,{$documentation:"A dotted property access expression",_walk:function(t){return t._visit(this,function(){this.expression._walk(t)})}},AST_PropAccess),AST_Sub=DEFNODE("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.property._walk(t)})}},AST_PropAccess),AST_Splice=DEFNODE("Slice","property2 assignment",{$documentation:"Index-style property access, i.e. `a[3:5]`",$propdoc:{property2:"[AST_Node] the 2nd property to access - typically ending index for the array.",assignment:"[AST_Node] The data being spliced in."},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.property._walk(t),this.property2._walk(t)})}},AST_PropAccess),AST_Unary=DEFNODE("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t)})}}),AST_UnaryPrefix=DEFNODE("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},AST_Unary),AST_UnaryPostfix=DEFNODE("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},AST_Unary),AST_Binary=DEFNODE("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(t){return t._visit(this,function(){this.left._walk(t),this.right._walk(t)})}}),AST_Conditional=DEFNODE("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(t){return t._visit(this,function(){this.condition._walk(t),this.consequent._walk(t),this.alternative._walk(t)})}}),AST_Assign=DEFNODE("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},AST_Binary),AST_Array=DEFNODE("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(t){return t._visit(this,function(){this.elements.forEach(function(e){e._walk(t)})})}}),AST_TupleUnpack=DEFNODE("TupleUnpack","elements right",{$documentation:"An object used to represent tuple unpacking",$propdoc:{elements:"[AST_Node*] array of elements being assigned to",right:"[AST_Node] right-hand side expression"},_walk:function(t){return t._visit(this,function(){this.elements.forEach(function(e){e._walk(t)}),this.right._walk(t)})}}),AST_Object=DEFNODE("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(t){return t._visit(this,function(){this.properties.forEach(function(e){e._walk(t)})})}}),AST_ObjectProperty=DEFNODE("ObjectProperty","key value quoted",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name; it's always a plain string in our AST, no matter if it was a string, number or identifier in original code",value:"[AST_Node] property value.  For setters and getters this is an AST_Function.",quoted:"[true/false] keeps track whether the property was quoted in original code."},_walk:function(t){return t._visit(this,function(){this.value._walk(t)})}}),AST_ObjectKeyVal=DEFNODE("ObjectKeyVal",null,{$documentation:"A key: value object property"},AST_ObjectProperty),AST_ObjectSetter=DEFNODE("ObjectSetter",null,{$documentation:"An object setter property"},AST_ObjectProperty),AST_ObjectGetter=DEFNODE("ObjectGetter",null,{$documentation:"An object getter property"},AST_ObjectProperty),AST_Symbol=DEFNODE("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),AST_SymbolAccessor=DEFNODE("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},AST_Symbol),AST_SymbolDeclaration=DEFNODE("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},AST_Symbol),AST_SymbolVar=DEFNODE("SymbolVar",null,{$documentation:"Symbol defining a variable"},AST_SymbolDeclaration),AST_SymbolConst=DEFNODE("SymbolConst",null,{$documentation:"A constant declaration"},AST_SymbolDeclaration),AST_SymbolFunarg=DEFNODE("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},AST_SymbolVar),AST_SymbolDefun=DEFNODE("SymbolDefun",null,{$documentation:"Symbol defining a function"},AST_SymbolDeclaration),AST_SymbolLambda=DEFNODE("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},AST_SymbolDeclaration),AST_SymbolCatch=DEFNODE("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},AST_SymbolDeclaration),AST_Label=DEFNODE("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LabelRef*] a list of nodes referring to this label"}},AST_Symbol),AST_SymbolRef=DEFNODE("SymbolRef","parens",{$documentation:"Reference to some symbol (not definition/declaration)",$propdoc:{parens:"[boolean/S] if true, this variable is wrapped in parentheses"}},AST_Symbol),AST_LabelRef=DEFNODE("LabelRef",null,{$documentation:"Reference to a label symbol"},AST_Symbol),AST_This=DEFNODE("This",null,{$documentation:"The `this` symbol"},AST_Symbol),AST_Constant=DEFNODE("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),AST_String=DEFNODE("String","value",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string"}},AST_Constant),AST_Verbatim=DEFNODE("Verbatim","value",{$documentation:"Raw JavaScript code",$propdoc:{value:"[string] A string of raw JS code"}},AST_Constant),AST_Number=DEFNODE("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},AST_Constant),AST_RegExp=DEFNODE("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},AST_Constant),AST_Atom=DEFNODE("Atom",null,{$documentation:"Base class for atoms"},AST_Constant),AST_Null=DEFNODE("Null",null,{$documentation:"The `null` atom",value:null},AST_Atom),AST_NaN=DEFNODE("NaN",null,{$documentation:"The impossible value",value:0/0},AST_Atom),AST_Undefined=DEFNODE("Undefined",null,{$documentation:"The `undefined` value",value:function(){}.call(this)},AST_Atom),AST_Hole=DEFNODE("Hole",null,{$documentation:"A hole in an array",value:function(){}.call(this)},AST_Atom),AST_Infinity=DEFNODE("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},AST_Atom),AST_Boolean=DEFNODE("Boolean",null,{$documentation:"Base class for booleans"},AST_Atom),AST_False=DEFNODE("False",null,{$documentation:"The `false` atom",value:!1},AST_Boolean),AST_True=DEFNODE("True",null,{$documentation:"The `true` atom",value:!0},AST_Boolean),TreeWalker.prototype={_visit:function(t,e){var o;return this.stack.push(t),o=this.visit(t,e?function(){e.call(t)}:noop),!o&&e&&e.call(t),this.stack.pop(),o},parent:function(t){return this.stack[this.stack.length-2-(t||0)]},push:function(t){this.stack.push(t)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(t){var e,o,n;for(e=this.stack,n=e.length-1;n>-1;n-=1)if(o=e[n],o instanceof t)return o},in_boolean_context:function(){var t,e,o,n;for(t=this.stack,e=t.length,n=t[e-=1];e>0;){if(o=t[e-=1],o instanceof AST_If&&o.condition===n||o instanceof AST_Conditional&&o.condition===n||o instanceof AST_DWLoop&&o.condition===n||o instanceof AST_UnaryPrefix&&"!"===o.operator&&o.expression===n)return!0;if(!(o instanceof AST_Binary)||"&&"!==o.operator&&"||"!==o.operator)return!1;n=o}},loopcontrol_target:function(t){var e,o,n;if(e=this.stack,t){for(n=e.length-1;n>-1;n-=1)if(o=e[n],o instanceof AST_LabeledStatement&&o.label.name===t.name)return o.body}else for(n=e.length-1;n>-1;n-=1)if(o=e[n],o instanceof AST_Switch||o instanceof AST_ForIn||o instanceof AST_DWLoop)return o}};
;/*!/baselib.js*/
function abs(r){return Math.abs(r)}function _$rapyd$_bind(r,n){var t;return r.orig&&(r=r.orig),n===!1?r:(t=function(){return r.apply(n,arguments)},t.orig=r,t)}function _$rapyd$_rebindAll(r,n){"undefined"==typeof n&&(n=!0);for(var t in r)r[t]&&r[t].orig&&(r[t]=n?_$rapyd$_bind(r[t],r):r[t].orig)}function dir(r){var n;n=[];for(var t in r)n.push(t);return n}function enumerate(r){var n;n=[];for(var t=0;t<r.length;t++)n[n.length]=[t,r[t]];return n}function _$rapyd$_eslice(r,n,t,e){var o;return r=r.slice(0),("string"==typeof r||r instanceof String)&&(o=!0,r=r.split("")),0>n&&(n=-n,r.reverse(),"undefined"!=typeof t&&(t=r.length-t-1),"undefined"!=typeof e&&(e=r.length-e-1)),"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=r.length),r=r.slice(t,e).filter(function(r,t){return t%n===0}),o?r.join(""):r}function _$rapyd$_extends(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r}function _$rapyd$_in(r,n){return Array.isArray(n)||"string"==typeof n?-1!==n.indexOf(r):n.hasOwnProperty(r)?!0:!1}function _$rapyd$_Iterable(r){return Array.isArray(r)||r instanceof String||"string"==typeof r?r:Object.keys(r)}function len(r){return Array.isArray(r)||"string"==typeof r?r.length:Object.keys(r).length}function _$rapyd$_mixin(r,n,t){for(var e in n)(n.hasOwnProperty(e)&&t||"undefined"==typeof r[e])&&(r[e]=n[e])}function _$rapyd$_print(){"object"==typeof console&&console.log.apply(console,arguments)}function range(r,n,t){var e,o,a;for(arguments.length<=1&&(n=r||0,r=0),t=arguments[2]||1,e=Math.max(Math.ceil((n-r)/t),0),o=0,a=new Array(e);e>o;)a[o++]=r,r+=t;return a}function reversed(r){var n;return n=r.slice(0),n.reverse()}function sum(){var r=arguments[0],n=void 0===arguments[1]?0:arguments[1],t=arguments[arguments.length-1];return("object"!=typeof t||t[symbolfor("_$rapyd$_kwargs_obj")]!==!0)&&(t={}),Object.prototype.hasOwnProperty.call(t,"start")&&(n=t.start),r.reduce(function(r,n){return r+n},n)}function getattr(r,n){return r[n]}function setattr(r,n,t){r[n]=t}function hasattr(r,n){return n in r}function _$rapyd$_symbolfor_polyfill(){return"function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for:function(r){return r+"-Symbol-5d0927e5554349048cf0e3762a228256"}}function _$rapyd$_desugar_kwargs(){return Object.assign?function(){var r;return r={},r[symbolfor("_$rapyd$_kwargs_obj")]=!0,Object.assign.apply(r,arguments)}:function(){var r,n;r={},r[symbolfor("_$rapyd$_kwargs_obj")]=!0;for(var t=0;t<arguments.length;t++)for(var e=_$rapyd$_Iterable(Object.keys(arguments[t])),o=0;o<e.length;o++)n=e[o],r[n]=arguments[t][n];return r}}
;/*!/output.js*/
"\n**********************************************************************\n\n  A RapydScript to JavaScript compiler.\n  https://github.com/atsepkov/RapydScript\n\n  -------------------------------- (C) ---------------------------------\n\n                       Author: Alexander Tsepkov\n                         <atsepkov@pyjeon.com>\n                         http://www.pyjeon.com\n\n  Distributed under Apache 2.0 license:\n    Copyright 2013 (c) Alexander Tsepkov <atsepkov@pyjeon.com>\n\n  RapydScript source code is originally based on UglifyJS2 (covered\n  by BSD license). UglifyJS2 was written by Mihai Bazon\n  <mihai.bazon@gmail.com>, who is its respective copyright holder.\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions\n    are met:\n\n        * Redistributions of source code must retain the above\n          copyright notice, this list of conditions and the following\n          disclaimer.\n\n        * Redistributions in binary form must reproduce the above\n          copyright notice, this list of conditions and the following\n          disclaimer in the documentation and/or other materials\n          provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY\n    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,\n    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR\n    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\n    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n    SUCH DAMAGE.\n\n **********************************************************************\n";"use strict";function OutputStream(n){function t(n,t){return n.replace(/[\u0080-\uffff]/g,function(n){var e;if(e=n.charCodeAt(0).toString(16),e.length<=2&&!t){for(;e.length<2;)e="0"+e;return"\\x"+e}for(;e.length<4;)e="0"+e;return"\\u"+e})}function e(e){var i,r;return i=0,r=0,e=e.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g,function(n){var t,e,i;return t=n,"\\"===t?"\\\\":"\b"===t?"\\b":"\f"===t?"\\f":"\n"===t?"\\n":"	"===t?"\\t":"\r"===t?"\\r":"\u2028"===t?"\\u2028":"\u2029"===t?"\\u2029":'"'===t?(e+=1,'"'):"'"===t?(i+=1,"'"):"\x00"===t?"\\0":n}),n.ascii_only&&(e=t(e)),i>r?"'"+e.replace(/\x27/g,"\\'")+"'":'"'+e.replace(/\x22/g,'\\"')+'"'}function i(t){var i;return i=e(t),n.inline_script&&(i=i.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),i}function r(e){return e=e.toString(),n.ascii_only&&(e=t(e,!0)),e}function o(t){return repeat_string(" ",n.indent_start+b-t*n.indent_level)}function a(){return D.charAt(D.length-1)}function s(){n.max_line_len&&w>n.max_line_len&&p("\n")}function p(t){var e,i,r,o,p;if(t=String(t),e=t.charAt(0),O&&(e&&!(";}".indexOf(e)<0)||/[;]$/.test(D)||(n.semicolons||k(e)?($+=";",w+=1,E+=1):($+="\n",E+=1,v+=1,w=0),n.beautify||(x=!1)),O=!1,s()),!n.beautify&&n.preserve_line&&j[j.length-1])for(i=j[j.length-1].start.line;i>v;)$+="\n",E+=1,v+=1,w=0,x=!1;x&&(r=a(),(is_identifier_char(r)&&(is_identifier_char(e)||"\\"===e)||/^[\+\-\/]$/.test(e)&&e===r)&&($+=" ",w+=1,E+=1),x=!1),o=t.split(/\r?\n/),p=o.length-1,v+=p,0===p?w+=o[p].length:w=o[p].length,E+=t.length,D=t,$+=t}function c(){O=!1,p(";")}function _(){return b+n.indent_level}function l(){for(var n,t,e,i=_$rapyd$_Iterable(enumerate(arguments)),r=0;r<i.length;r++)n=i[r],t=n[0],e=n[1],t>0&&N(),p(e)}function f(){F(),B()}function u(n){var t;return t=null,p("{"),B(),R(_(),function(){t=n()}),C(),p("}"),t}function d(n){var t;return p("("),t=n(),p(")"),t}function m(n){var t;return p("["),t=n(),p("]"),t}function h(){p(","),N()}function S(){p(":"),n.space_colon&&N()}function T(t){var e,i;C(),e="()"===t.substr(t.length-2),e&&(i=t.substr(0,t.length-2),p("var "+i+" = (")),p(n.baselib[t]),e&&(p(")()"),F()),B()}function A(t){var e;if(!n.omit_baselib)for(var i=_$rapyd$_Iterable(t.baselib),r=0;r<i.length;r++)e=i[r],T(e)}function y(){return $}function g(n){"string"==typeof n?p(n):n.print(this),N(),p("="),N()}var b,w,v,E,$,I,x,O,D,k,N,C,R,B,F,U,j;return n=defaults(n,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,inline_script:!1,width:80,max_line_len:32e3,ie_proof:!0,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,omit_baselib:!1,baselib:null,private_scope:!0,auto_bind:!1,write_name:!0},!0),b=0,w=0,v=1,E=0,$="",I={},x=!1,O=!1,D=null,k=makePredicate("( [ + * / - , ."),N=n.beautify?function(){p(" ")}:function(){x=!0},C=n.beautify?function(t){n.beautify&&p(o(t?.5:0))}:noop,R=n.beautify?function(n,t){var e,i;return n===!0&&(n=_()),e=b,b=n,i=t(),b=e,i}:function(n,t){return t()},B=n.beautify?function(){p("\n")}:noop,F=n.beautify?function(){p(";")}:function(){O=!0},U=n.source_map?function(t,e){try{t&&n.source_map.add(t.file||"?",v,w,t.line,t.col,e||"name"!==t.type?e:t.value)}catch(i){AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:t.file,line:t.line,col:t.col,cline:v,ccol:w,name:e||""})}}:noop,j=[],{get:y,toString:y,indent:C,indentation:function(){return b},current_width:function(){return w-b},should_break:function(){return n.width&&this.current_width()>=n.width},newline:B,print:p,space:N,comma:h,colon:S,last:function(){return D},semicolon:F,force_semicolon:c,to_ascii:t,print_name:function(n){p(r(n))},print_string:function(n){p(i(n))},next_indent:_,with_indent:R,with_block:u,with_parens:d,spaced:l,end_statement:f,with_square:m,add_mapping:U,assign:g,prologue:A,"import":function(n){I.hasOwnProperty(n.key)||(I[n.key]=n)},is_main:function(){return 0===$.length},option:function(t){return n[t]},line:function(){return v},col:function(){return w},pos:function(){return E},push_node:function(n){j.push(n)},pop_node:function(){return j.pop()},stack:function(){return j},parent:function(n){return j[j.length-2-(n||0)]}}}!function(){function n(n,t){n.DEFMETHOD("_codegen",t)}function t(n,t){n.DEFMETHOD("needs_parens",t)}function e(n){var t;return t=n.parent(),t instanceof AST_Unary?!0:t instanceof AST_Binary&&!(t instanceof AST_Assign)?!0:t instanceof AST_BaseCall&&t.expression===this?!0:t instanceof AST_Conditional&&t.condition===this?!0:t instanceof AST_PropAccess&&t.expression===this?!0:void 0}function i(n,t,e){var i;i=n.length-1,n.forEach(function(n,r){n instanceof AST_EmptyStatement||n instanceof AST_Definitions||(e.indent(),n.print(e),r===i&&t||e.newline())})}function r(n,t){var e;for(e in n)t.indent(),t.print("this."),t.assign(e),t.print("_$rapyd$_bind"),t.with_parens(function(){t.print("this."),t.print(e),t.comma(),t.print("this")}),t.semicolon(),t.newline()}function o(n,t){var e,i,r,o;e=[];for(var a=_$rapyd$_Iterable(Object.keys(n.imports)),s=0;s<a.length;s++)i=a[s],e.push(n.imports[i]);e.sort(function(n,t){var e;return e=[n.import_order,t.import_order],n=e[0],t=e[1],t>n?-1:n>t?1:0}),e.length>1&&(t.indent(),t.print("var _$rapyd$_modules = {};"),t.newline()),o={};for(var p=_$rapyd$_Iterable(e),c=0;c<p.length;c++){n=p[c];for(var _=_$rapyd$_Iterable(n.nonlocalvars),f=0;f<_.length;f++)r=_[f],o[r]=!0}o=Object.getOwnPropertyNames(o).join(", "),o.length&&(t.indent(),t.print("var "+o),t.semicolon(),t.newline());for(var u=_$rapyd$_Iterable(e),d=0;d<u.length;d++)n=u[d],"__main__"!==n.module_id&&(t.indent(),t.print('_$rapyd$_modules["'),t.print(n.module_id),t.print('"] = {}'),t.semicolon(),t.newline());for(var m=_$rapyd$_Iterable(e),h=0;h<m.length;h++)n=m[h],"__main__"!==n.module_id&&l(n,t)}function a(n){n.option("write_name")&&(n.newline(),n.indent(),n.print('var __name__ = "__main__"'),n.semicolon(),n.newline(),n.newline())}function s(n,t,e){var o,a,s,c,_,l,f,u;if(o=0,n instanceof AST_Method&&!n.static&&(e.indent(),e.print("var"),e.space(),e.assign(n.argnames[0]),e.print("this"),e.semicolon(),e.newline(),o+=1),n instanceof AST_Scope){if(n.argnames&&n.argnames.is_simple_func!==!0){a=n.argnames,l="arguments[arguments.length-1]";for(var d=_$rapyd$_Iterable(enumerate(a)),m=0;m<d.length;m++)s=d[m],c=s[0],_=s[1],c>=o&&(e.indent(),e.print("var"),e.space(),e.assign(_),Object.prototype.hasOwnProperty.call(a.defaults,_.name)&&(e.spaced("(arguments["+(c-o)+"]","===","undefined)","?"),e.space(),e.with_parens(function(){a.defaults[_.name].print(e)}),e.space(),e.print(":"),e.space()),e.print("arguments["+(c-o)+"]"),e.semicolon(),e.newline());if((a.kwargs||a.has_defaults)&&(l=a.kwargs?a.kwargs.name:"_$rapyd$_kwargs_obj",e.indent(),e.spaced("var",l,"=","arguments[arguments.length-1]"),e.end_statement(),e.indent(),e.spaced("if","(typeof",l,"!==",'"object"',"||",l,'[symbolfor("_$rapyd$_kwargs_obj")]',"!==","true)",l,"=","{}"),e.end_statement(),a.has_defaults))for(var h=_$rapyd$_Iterable(Object.keys(a.defaults)),S=0;S<h.length;S++)f=h[S],e.indent(),e.spaced("if","(Object.prototype.hasOwnProperty.call("+l+",",'"'+f+'"))'),e.with_block(function(){e.indent(),e.spaced(f,"=",l+"."+f),e.end_statement(),a.kwargs&&(e.indent(),e.spaced("delete",l+"."+f),e.end_statement())}),e.newline();a.starargs&&(u=a.length-o,e.indent(),e.spaced("var",a.starargs.name,"=","Array.prototype.slice.call(arguments,",u,")"),e.end_statement(),e.indent(),e.spaced("if","(typeof",l,"===",'"object"',"&&",l,'[symbolfor("_$rapyd$_kwargs_obj")]',"===","true)",a.starargs.name,".pop()"),e.end_statement())}e.option("auto_bind")&&n.name&&"__init__"===n.name.name&&(e.indent(),e.print("_$rapyd$_rebindAll"),e.with_parens(function(){e.print("this"),e.comma(),e.print("true")}),e.semicolon(),e.newline(),r(n.bound,e)),p(n.localvars,e)}else n instanceof AST_Except&&n.argname&&(e.indent(),e.print("var"),e.space(),e.assign(n.argname),e.print("_$rapyd$_Exception"),e.semicolon(),e.newline());i(n.body,t,e)}function p(n,t){n.length&&(t.indent(),t.print("var"),t.space(),n.forEach(function(n,e){e&&t.comma(),n.print(t)}),t.semicolon(),t.newline())}function c(n,t,e,i){var r,o,a,s;r={};for(var p=_$rapyd$_Iterable(t),c=0;c<p.length;c++)o=p[c],i.newline(),i.indent(),i.print('_$rapyd$_modules["'+n+'"]["'+o.name+'"] = '+o.name),r[o.name]=!0,i.semicolon(),i.newline();for(var _=_$rapyd$_Iterable(e),l=0;l<_.length;l++)s=_[l],r.hasOwnProperty(n)||(a=s.split(".")[s.split(".").length-1],i.newline(),i.indent(),i.print('_$rapyd$_modules["'+n+'"]["'+a+'"] = '),i.print('_$rapyd$_modules["'+s+'"]'),i.semicolon(),i.newline())}function _(n,t,e){n.elements.forEach(function(i,r){t.indent(),t.assign(i),t.print("_$rapyd$_Unpack"),t.with_square(function(){t.print(r)}),(!e||r<n.elements.length-1)&&(t.semicolon(),t.newline())})}function l(n,t){t.newline(),t.indent(),t.with_parens(function(){t.print("function()"),t.with_block(function(){t.indent(),t.print("var "),t.assign("__name__"),t.print('"'+n.module_id+'"'),t.semicolon(),t.newline(),p(n.localvars,t),i(n.body,!0,t),c(n.module_id,n.exports,n.submodules,t),t.newline(),t.indent(),t.print("return this"),t.semicolon(),t.newline()})}),t.print("()"),t.semicolon(),t.newline()}function f(n,t,e){n.body.length>0?t.with_block(function(){e?s(n,!1,t):i(n.body,!1,t)}):t.print("{}")}function u(n){return n.object instanceof AST_BaseCall&&n.object.expression instanceof AST_SymbolRef&&"dir"===n.object.expression.name&&1===n.object.args.length?!0:!1}function d(n){return n.object instanceof AST_BaseCall&&n.object.expression instanceof AST_SymbolRef&&"range"===n.object.expression.name&&!(n.init instanceof AST_Array)&&(n.object.args.length<3||n.object.args.slice(-1)[0]instanceof AST_Number||n.object.args.slice(-1)[0]instanceof AST_Unary&&"-"===n.object.args.slice(-1)[0].operator&&n.object.args.slice(-1)[0].expression instanceof AST_Number)?!0:!1}function m(n,t,e){var i;(i=function(n){n.length?(t.print(n.slice(0)[0].name),t.with_parens(function(){i(n.slice(1))})):e()})(n.decorators)}function h(n,t){var e;if(t.option("bracketize"))return void w(n.body,t);if(!n.body)return t.force_semicolon();if(n.body instanceof AST_Do&&t.option("ie_proof"))return void w(n.body,t);for(e=n.body;;)if(e instanceof AST_If){if(!e.alternative)return void w(n.body,t);e=e.alternative}else{if(!(e instanceof AST_StatementWithBody))break;e=e.body}T(n.body,t)}function S(n,t,e){if(e)try{n.walk(new TreeWalker(function(n){if(n instanceof AST_Binary&&"in"===n.operator)throw t})),n.print(t)}catch(i){var r=i;if(r!==t)throw r;n.print(t,!0)}else n.print(t)}function T(n,t){t.option("bracketize")?!n||n instanceof AST_EmptyStatement?t.print("{}"):n instanceof AST_BlockStatement?n.print(t):t.with_block(function(){t.indent(),n.print(t),t.newline()}):!n||n instanceof AST_EmptyStatement?t.force_semicolon():n.print(t)}function A(n){var t,e,i,r;for(t=n.stack(),e=t.length,i=t[e-=1],r=t[e-=1];e>0;){if(r instanceof AST_Statement&&r.body===i)return!0;if(!(r instanceof AST_Seq&&r.car===i||r instanceof AST_BaseCall&&r.expression===i||r instanceof AST_Dot&&r.expression===i||r instanceof AST_Sub&&r.expression===i||r instanceof AST_Conditional&&r.condition===i||r instanceof AST_Binary&&r.left===i||r instanceof AST_UnaryPostfix&&r.expression===i))return!1;i=r,r=t[e-=1]}}function y(n,t){return 0===n.args.length&&!t.option("beautify")}function g(n){var t,e,i;for(t=n[0],e=t.length,i=1;i<n.length;i++)n[i].length<e&&(t=n[i],e=t.length);return t}function b(n){var t,e,i;return t=n.toString(10),e=[t.replace(/^0\./,".").replace("e+","e")],i=null,Math.floor(n)===n?(n>=0?e.push("0x"+n.toString(16).toLowerCase(),"0"+n.toString(8)):e.push("-0x"+(-n).toString(16).toLowerCase(),"-0"+(-n).toString(8)),(i=/^(.*?)(0+)$/.exec(n))&&e.push(i[1]+"e"+i[2].length)):(i=/^0?\.(0+)(.*)$/.exec(n))&&e.push(i[2]+"e-"+(i[1].length+i[2].length),t.substr(t.indexOf("."))),g(e)}function w(n,t){return n instanceof AST_BlockStatement?void n.print(t):void t.with_block(function(){t.indent(),n.print(t),t.newline()})}function v(n,t){n.DEFMETHOD("add_source_map",function(n){t(this,n)})}function E(n,t){t.add_mapping(n.start)}var $,I;$={bind:"_$rapyd$_bind",rebind_all:"_$rapyd$_rebindAll",bool:"!!","float":"parseFloat","int":"parseInt",mixin:"_$rapyd$_mixin",print:"_$rapyd$_print",eslice:"_$rapyd$_eslice"},I=0,AST_Node.DEFMETHOD("print",function(n,t){var e,i;e=this,i=e._codegen,n.push_node(e),t||e.needs_parens(n)?n.with_parens(function(){e.add_comments(n),e.add_source_map(n),i(e,n)}):(e.add_comments(n),e.add_source_map(n),i(e,n)),n.pop_node()}),AST_Node.DEFMETHOD("print_to_string",function(n){var t;return t=OutputStream(n),this.print(t),t.get()}),AST_Node.DEFMETHOD("add_comments",function(n){var t,e,i,r;t=n.option("comments"),e=this,t&&(i=e.start,i&&!i._comments_dumped&&(i._comments_dumped=!0,r=i.comments_before,e instanceof AST_Exit&&e.value&&e.value.start.comments_before.length>0&&(r=(r||[]).concat(e.value.start.comments_before),e.value.start.comments_before=[]),t.test?r=r.filter(function(n){return t.test(n.value)}):"function"==typeof t&&(r=r.filter(function(n){return t(e,n)})),r.forEach(function(t){"comment1"===t.type?(n.print("//"+t.value+"\n"),n.indent()):"comment2"===t.type&&(n.print("/*"+t.value+"*/"),i.nlb?(n.print("\n"),n.indent()):n.space())})))}),t(AST_Node,function(){return!1}),t(AST_Function,function(n){return A(n)}),t(AST_Object,function(n){return A(n)}),t(AST_Unary,function(n){var t;return t=n.parent(),t instanceof AST_PropAccess&&t.expression===this}),t(AST_Seq,function(n){var t;return t=n.parent(),t instanceof AST_Unary||t instanceof AST_VarDef||t instanceof AST_Dot||t instanceof AST_ObjectProperty||t instanceof AST_Conditional}),t(AST_Binary,function(n){var t,e,i,r,o;return t=n.parent(),t instanceof AST_BaseCall&&t.expression===this?!0:t instanceof AST_Unary?!0:t instanceof AST_PropAccess&&t.expression===this?!0:t instanceof AST_Binary&&(e=t.operator,i=PRECEDENCE[e],r=this.operator,o=PRECEDENCE[r],i>o||i===o&&this===t.right&&(r!==e||"*"!==r&&"&&"!==r&&"||"!==r))?!0:void 0}),t(AST_PropAccess,function(n){var t;if(t=n.parent(),t instanceof AST_New&&t.expression===this)try{this.walk(new TreeWalker(function(n){if(n instanceof AST_BaseCall)throw t}))}catch(e){var i=e;if(i!==t)throw i;return!0}}),t(AST_BaseCall,function(n){var t;return t=n.parent(),t instanceof AST_New&&t.expression===this}),t(AST_New,function(n){var t;return t=n.parent(),y(this,n)&&(t instanceof AST_PropAccess||t instanceof AST_BaseCall&&t.expression===this)?!0:void 0}),t(AST_Number,function(n){var t;return t=n.parent(),this.getValue()<0&&t instanceof AST_PropAccess&&t.expression===this?!0:void 0}),t(AST_NaN,function(n){var t;return t=n.parent(),t instanceof AST_PropAccess&&t.expression===this?!0:void 0}),t(AST_Assign,e),t(AST_Conditional,e),n(AST_Directive,function(n,t){t.print_string(n.value),t.semicolon()}),n(AST_Debugger,function(n,t){t.print("debugger"),t.semicolon()}),AST_StatementWithBody.DEFMETHOD("_do_print_body",function(n){T(this.body,n)}),n(AST_Statement,function(n,t){n.body.print(t),t.semicolon()}),n(AST_Toplevel,function(n,t){var e;e=t.is_main(),e&&n.shebang&&(t.print(n.shebang),t.newline()),t.option("private_scope")&&e?(t.with_parens(function(){t.print("function()"),t.with_block(function(){t.indent(),t.print('"use strict"'),t.semicolon(),t.newline(),t.indent(),t.print("var _$rapyd$_Temp"),t.semicolon(),t.newline(),t.prologue(n),o(n,t),t.newline(),t.indent(),t.with_parens(function(){t.print("function()"),t.with_block(function(){a(t),t.newline(),s(n,!0,t),t.newline()})}),t.print("();"),t.newline()})}),t.print("();"),t.print("")):(e&&(t.prologue(n),o(n,t),a(t)),n.strict&&p(n.localvars,t),i(n.body,!0,t))}),n(AST_Import,function(n,t){function e(n,e,i){t.print("var "),t.assign(n),t.print('_$rapyd$_modules["'),t.print(e),t.print('"]'),i&&(t.print("."),t.print(n)),t.semicolon(),t.newline(),t.indent()}var i,r;if(t.import(n.module),n.argnames)for(var o=_$rapyd$_Iterable(n.argnames),a=0;a<o.length;a++)i=o[a],e(i.name,n.key,!0);else r=n.key.split(".",1)[0],e(r,r,!1)}),n(AST_LabeledStatement,function(n,t){n.label.print(t),t.colon(),n.body.print(t)}),n(AST_SimpleStatement,function(n,t){n.body instanceof AST_EmptyStatement||(n.body.print(t),t.semicolon())}),n(AST_BlockStatement,function(n,t){f(n,t)}),n(AST_EmptyStatement,function(){}),n(AST_Do,function(n,t){t.print("do"),t.space(),n._do_print_body(t),t.space(),t.print("while"),t.space(),t.with_parens(function(){n.condition.print(t)}),t.semicolon()}),n(AST_While,function(n,t){t.print("while"),t.space(),t.with_parens(function(){n.condition.print(t)}),t.space(),n._do_print_body(t)}),AST_ForIn.DEFMETHOD("_do_print_body",function(n){var t;t=this,n.with_block(function(){d(t)||u(t)||(n.indent(),t.init instanceof AST_Array?(n.assign("_$rapyd$_Unpack"),n.print("_$rapyd$_Iter"+I+"[_$rapyd$_Index"+I+"];"),n.newline(),_(t.init,n)):(n.assign(t.init),n.print("_$rapyd$_Iter"+I+"[_$rapyd$_Index"+I+"];"),n.newline()),I+=1),t.body.body.forEach(function(t){n.indent(),t.print(n),n.newline()})})}),n(AST_ForIn,function(n,t){var e,i,r,o,a;d(n)?(a=null,e=n.object.args,i=e.length,1===i?(r=0,o=e[0]):2===i?(r=e[0],o=e[1]):3===i&&(r=e[0],o=e[1],a=e[2]),t.print("for"),t.space(),t.with_parens(function(){t.assign(n.init),r.print?r.print(t):t.print(r),t.semicolon(),t.space(),n.init.print(t),t.space(),t.print(a instanceof AST_Unary?">":"<"),t.space(),o.print(t),t.semicolon(),t.space(),n.init.print(t),!a||a instanceof AST_Unary&&"1"===a.expression.value?t.print(a instanceof AST_Unary?"--":"++"):a instanceof AST_Unary?(t.print("-="),a.expression.print(t)):(t.print("+="),a.print(t))})):u(n)?(t.print("for"),t.space(),t.with_parens(function(){n.init.print(t),t.space(),t.print("in"),t.space(),n.object.args[0].print(t)})):(t.assign("var _$rapyd$_Iter"+I),t.print("_$rapyd$_Iterable"),t.with_parens(function(){n.object.print(t)}),t.semicolon(),t.newline(),t.indent(),t.print("for"),t.space(),t.with_parens(function(){t.print("var"),t.space(),t.assign("_$rapyd$_Index"+I),t.print("0"),t.semicolon(),t.space(),t.print("_$rapyd$_Index"+I),t.space(),t.print("<"),t.space(),t.print("_$rapyd$_Iter"+I+".length"),t.semicolon(),t.space(),t.print("_$rapyd$_Index"+I+"++")})),t.space(),n._do_print_body(t)}),AST_ForJS.DEFMETHOD("_do_print_body",function(n){var t;t=this,n.with_block(function(){t.body.body.forEach(function(t){n.indent(),t.print(n),n.newline()})})}),n(AST_ForJS,function(n,t){t.print("for"),t.space(),t.with_parens(function(){n.condition.print(t)}),t.space(),n._do_print_body(t)}),n(AST_ListComprehension,function(n,t){t.with_parens(function(){t.print("function"),t.print("()"),t.space(),t.with_block(function(){t.indent(),t.assign("var _$rapyd$_Iter"),t.print("_$rapyd$_Iterable"),t.with_parens(function(){n.object.print(t)}),t.comma(),t.assign("_$rapyd$_Result"),t.print("[]"),n.init instanceof AST_Array?n.init.elements.forEach(function(n){t.comma(),n.print(t)}):(t.comma(),n.init.print(t)),t.semicolon(),t.newline(),t.indent(),t.print("for"),t.space(),t.with_parens(function(){t.print("var"),t.space(),t.assign("_$rapyd$_Index"),t.print("0"),t.semicolon(),t.space(),t.print("_$rapyd$_Index"),t.space(),t.print("<"),t.space(),t.print("_$rapyd$_Iter.length"),t.semicolon(),t.space(),t.print("_$rapyd$_Index++")}),t.space(),t.with_block(function(){var e;t.indent(),n.init instanceof AST_Array?(t.assign("_$rapyd$_Unpack"),t.print("_$rapyd$_Iter[_$rapyd$_Index];"),t.newline(),_(n.init,t)):(t.assign(n.init),t.print("_$rapyd$_Iter[_$rapyd$_Index];"),t.newline()),e=function(){t.indent(),t.print("_$rapyd$_Result.push"),t.with_parens(function(){n.statement.print(t)}),t.semicolon(),t.newline()},n.condition?(t.indent(),t.print("if"),t.space(),t.with_parens(function(){n.condition.print(t)}),t.space(),t.with_block(function(){e()}),t.newline()):e()}),t.newline(),t.indent(),t.print("return _$rapyd$_Result"),t.semicolon(),t.newline()})}),t.print("()")}),n(AST_With,function(n,t){t.print("with"),t.space(),t.with_parens(function(){n.expression.print(t)}),t.space(),n._do_print_body(t)}),AST_Lambda.DEFMETHOD("_do_print",function(n,t){function e(){t||n.print("function"),i.name&&(n.space(),i.name.print(n)),n.with_parens(function(){i.argnames&&i.argnames.is_simple_func!==!0&&void 0!==i.argnames.is_simple_func||i.argnames.forEach(function(t,e){e&&n.comma(),t.print(n)})}),n.space(),f(i,n,!0)}var i;i=this,i.decorators&&i.decorators.length?(n.print("var"),n.space(),n.assign(i.name.name),m(i,n,e),n.semicolon()):e()}),n(AST_Lambda,function(n,t){n._do_print(t)}),AST_Class.DEFMETHOD("_do_print",function(n){function t(){e.init||e.parent?(n.print("function"),n.space(),e.name.print(n),n.print("()"),n.space(),n.with_block(function(){var t;r(e.bound,n),n.indent(),t=e.name?e.name:e.parent,t.print(n),n.print(".prototype.__init__.apply"),n.with_parens(function(){n.print("this"),n.comma(),n.print("arguments")}),n.semicolon(),n.newline()})):(n.print("function"),n.space(),e.name.print(n),n.print("()"),n.space(),n.with_block(function(){r(e.bound,n)}))}var e,i,o;e=this,e.external||(i=function(t){n.indent(),e.name.print(n),n.assign(t&&-1!==e.static.indexOf(t)?"."+t:".prototype"+(t?"."+t:""))},o=function(t){function r(){n.print("function"),n.space(),n.print(o),n.with_parens(function(){e.argnames&&e.argnames.is_simple_func!==!0&&void 0!==e.argnames.is_simple_func||t.argnames.forEach(function(t,i){-1!==e.static.indexOf(o)&&(i+=1),i>1&&n.comma(),i&&t.print(n)})}),f(t,n,!0)}var o;o=t.name.name,i(o),t.decorators&&t.decorators.length?m(t,n,r):r(),n.semicolon(),n.newline()},e.decorators&&e.decorators.length?(n.print("var "),n.assign(e.name),m(e,n,t),n.semicolon()):t(),n.newline(),e.parent&&(n.indent(),n.print("_$rapyd$_extends"),n.with_parens(function(){e.name.print(n),n.comma(),e.parent.print(n)}),n.semicolon(),n.newline()),e.body.forEach(function(n){n instanceof AST_Method?o(n):n instanceof AST_Class&&console.error("Nested classes aren't supported yet")}))}),n(AST_Class,function(n,t){n._do_print(t)}),AST_Exit.DEFMETHOD("_do_print",function(n,t){var e;e=this,n.print(t),e.value&&(n.space(),e.value.print(n)),n.semicolon()}),n(AST_Return,function(n,t){n._do_print(t,"return")}),n(AST_Throw,function(n,t){n._do_print(t,"throw")}),AST_LoopControl.DEFMETHOD("_do_print",function(n,t){n.print(t),this.label&&(n.space(),this.label.print(n)),n.semicolon()}),n(AST_Break,function(n,t){n._do_print(t,"break")}),n(AST_Continue,function(n,t){n._do_print(t,"continue")}),n(AST_If,function(n,t){t.print("if"),t.space(),t.with_parens(function(){n.condition.print(t)}),t.space(),n.alternative?(h(n,t),t.space(),t.print("else"),t.space(),T(n.alternative,t)):n._do_print_body(t)}),n(AST_Switch,function(n,t){t.print("switch"),t.space(),t.with_parens(function(){n.expression.print(t)}),t.space(),n.body.length>0?t.with_block(function(){n.body.forEach(function(n,e){e&&t.newline(),t.indent(!0),n.print(t)})}):t.print("{}")}),AST_SwitchBranch.DEFMETHOD("_do_print_body",function(n){this.body.length>0&&(n.newline(),this.body.forEach(function(t){n.indent(),t.print(n),n.newline()}))}),n(AST_Default,function(n,t){t.print("default:"),n._do_print_body(t)}),n(AST_Case,function(n,t){t.print("case"),t.space(),n.expression.print(t),t.print(":"),n._do_print_body(t)}),n(AST_Try,function(n,t){t.print("try"),t.space(),f(n,t),n.bcatch&&(t.space(),n.bcatch.print(t)),n.bfinally&&(t.space(),n.bfinally.print(t))}),n(AST_Catch,function(n,t){t.print("catch"),t.space(),t.with_parens(function(){t.print("_$rapyd$_Exception")}),t.space(),n.body.length>1||n.body[0].errors.length?t.with_block(function(){var e;t.indent(),e=!0,n.body.forEach(function(n,e){var i;e&&t.print("else "),n.errors.length?(t.print("if"),t.space(),t.with_parens(function(){n.errors.forEach(function(n,e){e&&(t.newline(),t.indent(),t.print("||"),t.space()),t.print("_$rapyd$_Exception"),t.space(),t.print("instanceof"),t.space(),n.print(t)})}),t.space()):i=!1,f(n,t,!0),t.space()}),e&&(t.print("else"),t.space(),t.with_block(function(){t.indent(),t.print("throw"),t.space(),t.print("_$rapyd$_Exception"),t.semicolon(),t.newline()})),t.newline()}):f(n.body[0],t,!0)}),n(AST_Finally,function(n,t){t.print("finally"),t.space(),f(n,t)}),AST_Definitions.DEFMETHOD("_do_print",function(n,t){var e,i,r;n.print(t),n.space(),this.definitions.forEach(function(t,e){e&&n.comma(),t.print(n)}),e=n.parent(),i=e instanceof AST_ForIn,r=i&&e.init===this,r||n.semicolon()}),n(AST_Var,function(n,t){n._do_print(t,"var")}),n(AST_Const,function(n,t){n._do_print(t,"const")}),n(AST_VarDef,function(n,t){var e,i;n.name.print(t),n.value&&(t.assign(""),e=t.parent(1),i=e instanceof AST_ForIn,S(n.value,t,i))}),n(AST_BaseCall,function(n,t){var e,i,r,o,a,s;n instanceof AST_ClassCall?n.static?(n.class.print(t),t.print("."),t.print(n.method)):(n.class.print(t),t.print(".prototype."),t.print(n.method),t.print(".call")):(e=$.hasOwnProperty(n.expression.name)?$[n.expression.name]:void 0,e?t.print(e):n.expression.print(t)),n instanceof AST_New&&y(n,t)||(i=n.args.kwarg_items&&n.args.kwarg_items.length,r=n.args.kwargs&&n.args.kwargs.length,o=i||r,a=function(){t.print("desugar_kwargs("),i&&(n.args.kwarg_items.forEach(function(n,e){e>0&&(t.print(","),t.space()),n.print(t)}),r&&(t.print(","),t.space())),r&&(t.print("{"),n.args.kwargs.forEach(function(n,e){e&&t.comma(),n[0].print(t),t.print(":"),t.space(),n[1].print(t)}),t.print("}")),t.print(")")},n.args.starargs?(s=n.expression.expression?n.expression.expression.name:"this",t.print(".apply"),t.with_parens(function(){var e,i,r;for(t.print(s),t.comma(),r=0;r<n.args.length;){if(e=n.args[r],i=0===r,i||t.print(".concat("),e.is_array)e.print(t),r+=1;else{for(t.print("[");r<n.args.length&&!n.args[r].is_array;)n.args[r].print(t),r+1<n.args.length&&!n.args[r+1].is_array&&(t.print(","),t.space()),r+=1;t.print("]")}i||t.print(")")}o&&(n.args.length&&t.print(".concat("),t.print("["),a(),t.print("]"),n.args.length&&t.print(")"))})):t.with_parens(function(){n.args.forEach(function(n,e){e&&t.comma(),n.print(t)}),o&&(n.args.length&&(t.print(","),t.space()),a())}))}),n(AST_New,function(n,t){t.print("new"),t.space(),AST_BaseCall.prototype._codegen(n,t)}),AST_Seq.DEFMETHOD("_do_print",function(n){var t,e,i;t=this,e=n.parent(),i=function(){t.car.print(n),t.cdr&&(n.comma(),n.should_break()&&(n.newline(),n.indent()),t.cdr.print(n))},e instanceof AST_Binary||e instanceof AST_Return||e instanceof AST_Array||e instanceof AST_BaseCall||e instanceof AST_SimpleStatement?n.with_square(i):i()}),n(AST_Seq,function(n,t){n._do_print(t)}),n(AST_Dot,function(n,t){var e;e=n.expression,e.print(t),e instanceof AST_Number&&e.getValue()>=0&&(/[xa-f.]/i.test(t.last())||t.print(".")),t.print("."),t.add_mapping(n.end),t.print_name(n.property)}),n(AST_Sub,function(n,t){n.expression.print(t),t.print("["),n.property instanceof AST_Unary&&"-"===n.property.operator&&n.property.expression instanceof AST_Number&&(n.expression.print(t),t.print(".length")),n.property.print(t),t.print("]")}),n(AST_Splice,function(n,t){t.print("[].splice.apply"),t.with_parens(function(){n.expression.print(t),t.comma(),t.with_square(function(){n.property.print(t),t.comma(),n.property2.print(t),t.print("-"),n.property.print(t)}),t.print(".concat"),t.with_parens(function(){n.assignment.print(t)})})}),n(AST_UnaryPrefix,function(n,t){var e;e=n.operator,t.print(e),/^[a-z]/i.test(e)&&t.space(),n.expression.print(t)}),n(AST_UnaryPostfix,function(n,t){n.expression.print(t),t.print(n.operator)}),n(AST_Binary,function(n,t){var e,i,r;e={"<":!0,">":!0,"<=":!0,">=":!0,"==":!0,"!=":!0},i={"in":"_$rapyd$_in","**":"Math.pow"},_$rapyd$_in(n.operator,i)?(t.print(i[n.operator]),t.with_parens(function(){n.left.print(t),t.comma(),n.right.print(t)})):e[n.operator]&&n.left instanceof AST_Binary&&e[n.left.operator]?(n.left.right instanceof AST_Symbol?(n.left.print(t),r=n.left.right.name):(n.left.left.print(t),t.space(),t.print(n.left.operator),t.space(),t.with_parens(function(){t.assign("_$rapyd$_Temp"),n.left.right.print(t),r="_$rapyd$_Temp"})),t.space(),t.print("&&"),t.space(),t.print(r),t.space(),t.print(n.operator),t.space(),n.right.print(t)):(n.left.print(t),t.space(),t.print(n.operator),t.space(),n.right.print(t))}),n(AST_Assign,function(n,t){n.left instanceof AST_Array?t.print("_$rapyd$_Unpack"):n.left.print(t),t.space(),t.print(n.operator),t.space(),n.right.print(t),n.left instanceof AST_Array&&(t.semicolon(),t.newline(),_(n.left,t,!0))}),n(AST_Conditional,function(n,t){n.condition.print(t),t.space(),t.print("?"),t.space(),n.consequent.print(t),t.space(),t.colon(),n.alternative.print(t)}),n(AST_Array,function(n,t){t.with_square(function(){var e,i;e=n.elements,i=e.length,i>0&&t.space(),e.forEach(function(n,e){e&&t.comma(),n.print(t)}),i>0&&t.space()})}),n(AST_Object,function(n,t){n.properties.length>0?t.with_block(function(){n.properties.forEach(function(n,e){e&&(t.print(","),t.newline()),t.indent(),n.print(t)}),t.newline()}):t.print("{}")}),n(AST_ObjectKeyVal,function(n,t){var e;e=n.key,n.quoted?t.print_string(e+""):("number"==typeof e||!t.option("beautify")&&+e+""===e)&&parseFloat(e)>=0?t.print(b(e)):is_identifier(e)?t.print_name(e):t.print_string(e),t.colon(),n.value.print(t)}),n(AST_ObjectSetter,function(n,t){t.print("set"),n.value._do_print(t,!0)}),n(AST_ObjectGetter,function(n,t){t.print("get"),n.value._do_print(t,!0)}),AST_Symbol.DEFMETHOD("definition",function(){return this.thedef}),n(AST_Symbol,function(n,t){var e;e=n.definition(),t.print_name(e?e.mangled_name||e.name:n.name)}),n(AST_Undefined,function(n,t){t.print("void 0")}),n(AST_Hole,noop),n(AST_Infinity,function(n,t){t.print("1/0")}),n(AST_NaN,function(n,t){t.print("0/0")}),n(AST_This,function(n,t){t.print("this")}),n(AST_Constant,function(n,t){t.print(n.getValue())}),n(AST_String,function(n,t){t.print_string(n.getValue())}),n(AST_Verbatim,function(n,t){t.print(n.getValue())}),n(AST_Number,function(n,t){t.print(b(n.getValue()))}),n(AST_RegExp,function(n,t){var e,i;e=n.getValue().toString(),t.option("ascii_only")&&(e=t.to_ascii(e)),t.print(e),i=t.parent(),i instanceof AST_Binary&&/^in/.test(i.operator)&&i.left===n&&t.print(" ")}),v(AST_Node,noop),v(AST_Directive,E),v(AST_Debugger,E),v(AST_Symbol,E),v(AST_Jump,E),v(AST_StatementWithBody,E),v(AST_LabeledStatement,noop),v(AST_Lambda,E),v(AST_Switch,E),v(AST_SwitchBranch,E),v(AST_BlockStatement,E),v(AST_Toplevel,noop),v(AST_New,E),v(AST_Try,E),v(AST_Catch,E),v(AST_Finally,E),v(AST_Definitions,E),v(AST_Constant,E),v(AST_ObjectProperty,function(n,t){t.add_mapping(n.start,n.key)
})}();
;/*!/parse.js*/
function ImportError(){ImportError.prototype.__init__.apply(this,arguments)}function is_letter(e){return e>=97&&122>=e||e>=65&&90>=e||e>=170&&UNICODE.letter.test(String.fromCharCode(e))}function is_digit(e){return e>=48&&57>=e}function is_alphanumeric_char(e){return is_digit(e)||is_letter(e)}function is_unicode_combining_mark(e){return UNICODE.non_spacing_mark.test(e)||UNICODE.space_combining_mark.test(e)}function is_unicode_connector_punctuation(e){return UNICODE.connector_punctuation.test(e)}function is_identifier(e){return!RESERVED_WORDS(e)&&IDENTIFIER_PAT.test(e)}function is_identifier_start(e){return 36===e||95===e||is_letter(e)}function is_identifier_char(e){var u;return u=e.charCodeAt(0),is_identifier_start(u)||is_digit(u)||8204===u||8205===u||is_unicode_combining_mark(e)||is_unicode_connector_punctuation(e)}function parse_js_number(e){return RE_HEX_NUMBER.test(e)?parseInt(e.substr(2),16):RE_OCT_NUMBER.test(e)?parseInt(e.substr(1),8):RE_DEC_NUMBER.test(e)?parseFloat(e):void 0}function JS_Parse_Error(e,u,n,t,r){this.message=e,this.line=u,this.col=n,this.pos=t,this.stack=(new Error).stack,this.is_eof=r}function js_error(e,u,n,t,r,o){throw AST_Node.warn("ERROR: {message} [{file}:{line},{col}]",{message:e,file:u,line:n,col:t}),new JS_Parse_Error(e,n,t,r,o)}function is_token(e,u,n){return e.type===u&&(null===n||void 0===n||e.value===n)}function tokenizer(e,u){function n(){return D.text.charAt(D.pos)}function t(){return D.text.charAt(D.tokpos-1)}function r(e,u){var n;if(n=D.text.charAt(D.pos),D.pos+=1,e&&!n)throw EX_EOF;return"\n"===n?(D.newline_before=D.newline_before||!u,D.line+=1,D.col=0):D.col+=1,n}function o(e,u){var n;if(n=D.text.indexOf(e,D.pos),u&&-1===n)throw EX_EOF;return n}function a(){D.tokline=D.line,D.tokcol=D.col,D.tokpos=D.pos}function i(e,n,t,r){var a,i;if(D.regex_allowed="operator"===e&&!UNARY_POSTFIX[n]||"keyword"===e&&KEYWORDS_BEFORE_EXPRESSION(n)||"punc"===e&&PUNC_BEFORE_EXPRESSION(n),"operator"===e&&"is"===n&&"not"===D.text.substr(D.pos).trimLeft().substr(0,4).trimRight()&&(F(),n="!=="),"operator"===e&&OP_MAP[n]&&(n=OP_MAP[n]),a={type:e,value:n,line:D.tokline,col:D.tokcol,pos:D.tokpos,endpos:D.pos,nlb:D.newline_before,file:u},!t)for(a.comments_before=D.comments_before,D.comments_before=[],i=0;i<len(a.comments_before);i++)a.nlb=a.nlb||a.comments_before[i].nlb;return r||(D.newline_before=!1),"punc"===e&&(":"!==n||D.index_or_slice.slice(-1)[0]||D.text.substring(D.pos+1,o("\n")).trim()&&D.text.substring(D.pos+1,o("#")).trim()||(D.newblock=!0,D.indentation_matters.push(!0)),"["===n?(D.index_or_slice.push(D.prev&&"name"===D.prev.type?!0:!1),D.indentation_matters.push(!1)):"{"===n||"("===n?D.indentation_matters.push(!1):"]"===n?(D.index_or_slice.pop(),D.indentation_matters.pop()):("}"===n||")"===n)&&D.indentation_matters.pop()),D.prev=new AST_Token(a),D.prev}function s(){var e,u,t;for(t="",e=!1;WHITESPACE_CHARS(n());)e=!0,u=r(),"\n"===u?t="":t+=u;return"#"!==n()&&(e?D.cached_whitespace=t:t=D.cached_whitespace,D.newline_before||D.endblock)?l(t):void 0}function l(e){var u;return u=D.whitespace_before[D.whitespace_before.length-1]||"",D.endblock=!1,D.indentation_matters.slice(-1)[0]&&e!==u?D.newblock&&e&&0===e.indexOf(u)?(D.newblock=!1,D.whitespace_before.push(e),1):u&&0===u.indexOf(e)?(D.endblock=!0,D.whitespace_before.pop(),-1):void A("Inconsistent indentation"):0}function c(e){var u,t;for(t="",u=0;(ch=n())&&e(ch,u);)u+=1,t+=r();return t}function A(e,n){js_error(e,u,D.tokline,D.tokcol,D.tokpos,n)}function f(e){var u,n,t,r,o,a;return u=!1,n=!1,t=!1,r="."===e,o=c(function(o,a){var i,s;return i=o.charCodeAt(0),s=i,120===s||88===s?t?!1:t=!0:101===s||69===s?t?!0:u?!1:u=n=!0:45===s?n||0===a&&!e:43===s?n:46===s?(n=!1,r||t||u?!1:r=!0):is_alphanumeric_char(i)}),e&&(o=e+o),a=parse_js_number(o),isNaN(a)?void A("Invalid syntax: "+o):i("num",a)}function _(e,u){var n,t;return u=u||function(e){return r(!0,e)},n=u(e),t=n.charCodeAt(0),110===t?"\n":114===t?"\r":116===t?"	":98===t?"\b":118===t?"":102===t?"\f":48===t?"\x00":120===t?String.fromCharCode(p(2,u)):117===t?String.fromCharCode(p(4,u)):10===t?"":n}function p(e,u){var n,t,r;for(t=0,r=0;e>r;r++)n=parseInt(u(),16),isNaN(n)&&A("Invalid hex-character pattern in string"),t=t<<4|n;return t}function d(){var e=void 0===arguments[0]?!1:arguments[0],u=arguments[arguments.length-1];("object"!=typeof u||u[symbolfor("_$rapyd$_kwargs_obj")]!==!0)&&(u={}),Object.prototype.hasOwnProperty.call(u,"shebang")&&(e=u.shebang);var n,t;return e||r(),n=o("\n"),-1===n?(t=D.text.substr(D.pos),D.pos=D.text.length):(t=D.text.substring(D.pos,n),D.pos=n),i(e?"shebang":"comment1",t,!0)}function E(){var e,u,t,o,a;for(t=!1,a="",e=!1;null!==(u=n());)if(t)"u"!==u&&A("Expecting UnicodeEscapeSequence -- uXXXX"),u=_(),is_identifier_char(u)||A("Unicode char: "+u.charCodeAt(0)+" is not valid in identifier"),a+=u,t=!1;else if("\\"===u){if("\n"===D.text.charAt(D.pos+1)){D.pos+=2;continue}e=[t=!0,r()]}else{if(!is_identifier_char(u))break;a+=r()}return KEYWORDS(a)&&e&&(o=a.charCodeAt(0).toString(16).toUpperCase(),a="\\u"+"0000".substr(o.length)+o+a.slice(1)),a}function S(e){function u(e){var t;return n()?(t=e+n(),OPERATORS(t)?(r(),u(t)):e):e}var t;return t=u(e||r()),_$rapyd$_in(t,["++","--","===","!=="])&&A("Invalid operator «"+t+"»"),i("operator",t)}function C(){return r(),D.regex_allowed?v(""):S("/")}function B(){return r(),is_digit(n().charCodeAt(0))?f("."):i("punc",".")}function m(){var e;return e=E(),KEYWORDS_ATOM(e)?i("atom",e):KEYWORDS(e)?OPERATORS(e)&&"."!==t()?i("operator",e):i("keyword",e):i("name",e)}function h(e,u){return function(n){try{return u(n)}catch(t){var r=t;if(r!==EX_EOF)throw t;A(e,!0)}}}function F(e){var u,t,o,l,c;return _$rapyd$_in(e,[null,void 0])?(u=s(),-1===u?i("punc","}",!1,!0):(a(),(t=n())?(o=t.charCodeAt(0),l=o,34===l||39===l?b():35===l?0===D.pos&&"!"===D.text.charAt(1)?d(!0):(c=D.regex_allowed,D.comments_before.push(d()),D.regex_allowed=c,F()):46===l?B():47===l?C():is_digit(o)?f():PUNC_CHARS(t)?i("punc",r()):OPERATOR_CHARS(t)?S():92===o&&"\n"===D.text.charAt(D.pos+1)?(r(),r(),D.newline_before=!1,F()):92===o||is_identifier_start(o)?m():void A("Unexpected character «"+t+"»")):i("eof"))):v(e)}var D,b,T,v;return D={text:e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/\uFEFF/g,""),filename:u,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],whitespace_before:[],newblock:!1,endblock:!1,indentation_matters:[!0],cached_whitespace:"",prev:void 0,index_or_slice:[!1]},b=h("Unterminated string constant",function(){var e,u,t,a,s,l,f,p;if(e=r(),p="",n()===e){if(r(!0),n()!==e)return i("string","");if(r(!0),u=o(e+e+e,!0),-1!==u){for(t=D.text.substring(D.pos,u),D.pos=u+3;t.length;)"\\"===t[0]?(t=t.substr(1),p+=_(!0,function(){var e;return e=t[0],t=t.substr(1),e})):(p+=t[0],t=t.substr(1));return a=p.match(/\n/g),a&&(D.line+=a.length),i("string",p)}}for(;;){if(f=r(!0),"\n"===f&&A("End of line while scanning string literal."),"\\"===f)if(s=0,l=null,f=c(function(e){if(e>="0"&&"7">=e){if(!l)return l=e,s+=1;if("3">=l&&2>=s)return s+=1;if(l>="4"&&1>=s)return s+=1}return!1}),s>0)f=String.fromCharCode(parseInt(f,8));else{if("\n"===n()){r(!0);continue}f=_(!0)}else if(f===e)break;p+=f}return i("string",p)}),T=h("Unterminated multiline comment",function(){var e,u,n,t;return r(),e=o("*/",!0),u=D.text.substring(D.pos,e),n=u.split("\n"),t=n.length,D.pos=e+2,D.line+=t-1,t>1?D.col=n[t-1].length:D.col+=n[t-1].length,D.col+=2,D.newline_before=D.newline_before||u.indexOf("\n")>=0,i("comment2",u,!0)}),v=h("Unterminated regular expression",function(e){var u,n,t;for(n=!1,u=!1;ch=r(!0);)if(n)e+="\\"+ch,n=!1;else if("["===ch)u=!0,e+=ch;else if("]"===ch&&u)u=!1,e+=ch;else{if("/"===ch&&!u)break;"\\"===ch?n=!0:e+=ch}return t=E(),i("regexp",new RegExp(e,t))}),F.context=function(e){return e&&(D=e),D},F}function parse(e,u){function n(e,u){return is_token(G.token,e,u)}function t(){return G.peeked||(G.peeked=G.input())}function r(){return G.prev=G.token,G.peeked?(G.token=G.peeked,G.peeked=null):G.token=G.input(),G.in_directives=G.in_directives&&("string"===G.token.type||n("punc",";")),G.token}function o(){return G.prev}function a(e,u,n,t,r){var o;o=G.input.context(),js_error(e,o.filename,void 0!==u?u:o.tokline,void 0!==n?n:o.tokcol,void 0!==t?t:o.tokpos,r)}function i(e,u){var n;n="eof"===e.type?!0:!1,a(u,e.line,e.col,void 0,n)}function s(e){void 0===e&&(e=G.token),i(e,"Unexpected token: "+e.type+" «"+e.value+"»")}function l(e,u){return n(e,u)?r():void i(G.token,"Unexpected token "+G.token.type+" «"+G.token.value+"», expected "+e+" «"+u+"»")}function c(e){return l("punc",e)}function A(){return!u.strict&&(G.token.nlb||n("eof")||n("punc","}"))}function f(){n("punc",";")&&(r(),G.token.nlb=!0)}function _(){var e;return c("("),e=_u(!0),c(")"),e}function p(e){return function(){var u,n,t;return u=G.token,n=e(),void 0===n&&s(),t=o(),n.start=u,n.end=t,n}}function d(e){var u;return u={"<":!0,">":!0,"<=":!0,">=":!0,"==":!0,"!=":!0,"===":!0,"!==":!0},e instanceof AST_Binary&&_$rapyd$_in(e.operator,u)&&e.left instanceof AST_Binary&&_$rapyd$_in(e.left.operator,u)?!0:!1}function E(e){var u,n,t,r,o;if(o=[],Array.isArray(e))for(r in e)if(u=e[r],u instanceof AST_Function||u instanceof AST_Class)o.push(u.name);else{if(u instanceof AST_Scope)continue;for(var a=_$rapyd$_Iterable(["body","alternative"]),i=0;i<a.length;i++)t=a[i],n=u[t],n&&(o=o.concat(E(n))),n instanceof AST_Assign&&!(n.right instanceof AST_Scope)&&(o=o.concat(E(n.right)))}else e.body&&(o=o.concat(E(e.body)),e.alternative&&(o=o.concat(E(e.alternative))));return o}function S(e){var u,n,t;u={};for(t in e)n=e[t],n instanceof AST_Class&&(u[n.name.name]=n);return u}function C(e){var u,n;if(n=[],Array.isArray(e))for(u in e)e[u]instanceof AST_Scope||(["body","alternative"].forEach(function(t){var r;r=e[u][t],r&&(n=n.concat(C(r))),r instanceof AST_Assign&&!(r.right instanceof AST_Scope)&&(n=n.concat(C(r.right)))}),e[u]instanceof AST_ForIn?e[u].init instanceof AST_Array?(n.push("_$rapyd$_Unpack"),e[u].init.elements.forEach(function(e){-1===n.indexOf(e.name)&&n.push(e.name)})):-1===n.indexOf(e[u].init.name)&&n.push(e[u].init.name):e[u]instanceof AST_DWLoop?n=n.concat(C(e[u])):e[u]instanceof AST_If&&d(e[u].condition)?n.push("_$rapyd$_Temp"):e[u]instanceof AST_Exit&&d(e[u].value)&&n.push("_$rapyd$_Temp"));else e.body?(n=n.concat(C(e.body)),e.alternative&&(n=n.concat(C(e.alternative)))):e instanceof AST_Assign?(e.left instanceof AST_Array?(n.push("_$rapyd$_Unpack"),e.left.elements.forEach(function(e){e instanceof AST_PropAccess||-1!==n.indexOf(e.name)||n.push(e.name)})):e.left.name&&-1===n.indexOf(e.left.name)&&n.push(e.left.name),d(e.right)?n.push("_$rapyd$_Temp"):e.right instanceof AST_Conditional&&d(e.right.condition)&&n.push("_$rapyd$_Temp")):e instanceof AST_Conditional&&d(e.condition)?n.push("_$rapyd$_Temp"):d(e)&&n.push("_$rapyd$_Temp");return n}function B(e){var u,n;if(n=[],Array.isArray(e))for(u in e)e[u]instanceof AST_Scope||(e[u]instanceof AST_Definitions&&e[u].definitions.forEach(function(e){n.push(e.name.name)}),["body","alternative"].forEach(function(t){var r;r=e[u][t],r&&(n=n.concat(B(r)))}));else e.body&&(n=n.concat(B(e.body)),e.alternative&&(n=n.concat(B(e.alternative))));return n}function m(){var e,u;return e=M(AST_Label),find_if(function(u){return u.name===e.name},G.labels)&&a("Label "+e.name+" defined twice"),c(":"),G.labels.push(e),u=Q(),G.labels.pop(),new AST_LabeledStatement({body:u,label:e})}function h(e){return e=_u(!0),f(),new AST_SimpleStatement({body:e})}function F(e){var u;return u=null,A()||(u=M(AST_LabelRef,!0)),null!==u?find_if(function(e){return e.name===u.name},G.labels)||a("Undefined label "+u.name):0===G.in_loop&&a(e.TYPE+" not inside a loop or switch"),f(),new e({label:u})}function D(e){var u,t,o;if(o=null,!n("punc",";")){if(o=_u(!0,!0),o instanceof AST_Seq){for(u=[],t=o;t&&t.car;)u.push(t.car),t=t.cdr;u.push(t),o=new AST_Array({start:o.start,elements:u,end:o.end})}if(n("operator","in"))return o instanceof AST_Var&&o.definitions.length>1&&a("Only one variable declaration allowed in for..in loop"),r(),b(o,e)}s()}function b(e,u){var n,t;return n=e instanceof AST_Var?e.definitions[0].name:null,t=_u(!0),BASELIB.iterable=!0,u?{init:e,name:n,object:t}:new AST_ForIn({init:e,name:n,object:t,body:V(Q)})}function T(){var e;return e=_u(!0,!0),new AST_ForJS({condition:e,body:V(Q)})}function v(e){var u,n,t;if(e instanceof AST_SymbolRef){if(NATIVE_CLASSES.hasOwnProperty(e.name))return NATIVE_CLASSES[e.name];for(t=G.classes.length-1;t>-1;t-=1)if(G.classes[t].hasOwnProperty(e.name))return G.classes[t][e.name]}else if(e instanceof AST_Dot){for(u=[];e instanceof AST_Dot;)u.unshift(e.property),e=e.expression;if(e instanceof AST_SymbolRef&&(u.unshift(e.name),len(u)>1))for(n=u.join("."),t=G.classes.length-1;t>-1;t-=1)if(G.classes[t].hasOwnProperty(n))return G.classes[t][n]}return!1}function y(e){function n(e){for(var n,t,r,o=_$rapyd$_Iterable(enumerate([e+".pyj",e+"/__init__.pyj"])),a=0;a<o.length;a++){n=o[a],t=n[0],r=n[1];try{return[u.readfile(r,"utf-8"),r]}catch(i){var s=i;if(("ENOENT"===s.code||"EPERM"===s.code||"EACCESS"===s.code)&&1===t)return[null,null];if(1===t)throw i}}}var t,r,o,a,i,s,l,c;if(!H.hasOwnProperty(e)){if(q.hasOwnProperty(e)&&q[e])throw new ImportError("Detected a recursive import of: "+e+" while importing: "+j);t=e.split(".").slice(0,-1).join("."),len(t)>0&&y(t),s=i=null,r=e.replace(".","/");for(var A=_$rapyd$_Iterable([u.basedir,u.libdir]),f=0;f<A.length;f++)if(l=A[f],l&&(o=n(l+"/"+r),a=o[0],i=o[1],null!==a)){s=a;break}if(null===s)throw"Failed Import: '"+e+"' module doesn't exist in either '"+u.basedir+"' or '"+u.libdir+"'";c=parse(s,{filename:i,toplevel:null,readfile:u.readfile,basedir:u.basedir,libdir:u.libdir,module_id:e,IMPORTED:H,IMPORTING:q}),len(t)>0&&H[t].submodules.push(e)}}function g(){var e,u,n;for(u=e=_u(!1),n="";u instanceof AST_Dot;)n="."+u.property+n,u=u.expression;return n=u.name+n,y(n),[e,n]}function w(){var e,u,t;return e=_u(!0),u=Q(),t=null,(n("keyword","elif")||n("keyword","else"))&&(n("keyword","else")?r():G.token.value="if",t=Q()),new AST_If({condition:e,body:u,alternative:t})}function k(){var e;if(c(":"),e=[],G.token.nlb){for(;!n("punc","}");){if(n("eof"))return e;e.push(Q())}r()}else for(;!G.token.nlb;)n("eof")&&s(),e.push(Q());return e}function R(){var e,u,t;for(c("{"),e=[],u=null,t=null;!n("punc","}");)n("eof")&&s(),n("keyword","case")?(t&&(t.end=o()),u=[],t=new AST_Case({start:tmp=[G.token,r(),tmp],expression:_u(!0),body:u}),e.push(t),c(":")):n("keyword","default")?(t&&(t.end=o()),u=[],t=new AST_Default({start:tmp=[G.token,r(),c(":"),tmp],body:u}),e.push(t)):(u||s(),u.push(Q()));return t&&(t.end=o()),r(),e}function O(){var e,u,t,i,s,l;for(e=k(),u=[],l=null;n("keyword","except");){if(s=G.token,r(),t=[],!n("punc",":")&&!n("keyword","as"))for(t.push(M(AST_SymbolVar));n("punc",",");)r(),t.push(M(AST_SymbolVar));i=null,n("keyword","as")&&(r(),i=M(AST_SymbolCatch)),u.push(new AST_Except({start:s,argname:i,errors:t,body:k(),end:o()}))}return n("keyword","finally")&&(s=G.token,r(),l=new AST_Finally({start:s,body:k(),end:o()})),u.length||l||a("Missing except/finally blocks"),new AST_Try({body:e,bcatch:u.length?new AST_Catch({body:u}):null,bfinally:l})}function I(e,u){var t;for(t=[];;){if(t.push(new AST_VarDef({start:G.token,name:M(u?AST_SymbolConst:AST_SymbolVar),value:n("operator","=")?(r(),_u(!1,e)):null,end:o()})),!n("punc",","))break;r()}return t}function x(){var e,u,n,t;return e=G.token,u=e.type,"name"===u?M(AST_SymbolRef):("num"===u?t=new AST_Number({start:e,end:e,value:e.value}):"string"===u?t=new AST_String({start:e,end:e,value:e.value}):"regexp"===u?t=new AST_RegExp({start:e,end:e,value:e.value}):"atom"===u&&(n=e.value,"False"===n?t=new AST_False({start:e,end:e}):"True"===n?t=new AST_True({start:e,end:e}):"None"===n&&(t=new AST_Null({start:e,end:e}))),r(),t)}function N(e,u,t,a){var s,l,A,f,_,p,d;for(s=!0,d=[],l=!1;!n("punc",e)&&(l&&i(o(),"*args must be the last argument in a function call"),s?s=!1:c(","),!u||!n("punc",e));)n("operator","*")&&a&&(l=!0,r()),d.push(n("punc",",")&&t?new AST_Hole({start:G.token,end:G.token}):_u(!1));if(a){A=[],A.kwargs=[];for(var E=_$rapyd$_Iterable(enumerate(d)),S=0;S<E.length;S++)f=E[S],_=f[0],p=f[1],p instanceof AST_Assign?A.kwargs.push([p.left,p.right]):A.push(p);d=A}return r(),l&&(d.starargs=!0),d}function P(){var e,u,t,o;for(e=[],t=!0,e.kwargs=[],e.kwarg_items=u=[],e.starargs=!1;!n("punc",")");)t?t=!1:c(","),n("operator","*")?(r(),o=_u(!1),o.is_array=!0,e.push(o),e.starargs=!0):n("operator","**")?(r(),u.push(M(AST_SymbolVar,!1)),e.starargs=!0):(o=_u(!1),o instanceof AST_Assign?e.kwargs.push([o.left,o.right]):e.push(o));return e.kwargs&&(BASELIB["symbolfor()"]=!0,BASELIB["desugar_kwargs()"]=!0),r(),e}function $(){var e,u;return e=G.token,r(),u=e.type,"num"===u||"string"===u||"name"===u||"operator"===u||"keyword"===u||"atom"===u?e:void s()}function U(){var e,u;return e=G.token,r(),u=e.type,"name"===u||"operator"===u||"keyword"===u||"atom"===u?e.value:void s()}function M(e,u){var t,o;return n("name")?(t=G.token.value,o=new("this"===t?AST_This:e)({name:String(G.token.value),start:G.token,end:G.token}),r(),o):(u||a("Name expected"),null)}function L(e,u){var n;return n=new("this"===u?AST_This:e)({name:String(u),start:null,end:null})}function W(e,u){return-1!==COMMON_STATIC.indexOf(u)||e.static&&-1!==e.static.indexOf(u)?!0:!1}function X(e,u,n){return new e({operator:u,expression:n})}function Y(e){return cu(lu(!0),0,e)}function K(e){var n;return u.strict?(n=e[0]+"","dot"===n||"sub"===n||"new"===n||"call"===n?!0:"name"===n?"this"!==e[1]:void 0):!0}function V(e){var u;return G.in_loop+=1,u=e(),G.in_loop-=1,u}var j,H,q,G,J,z,Q,Z,eu,uu,nu,tu,ru,ou,au,iu,su,lu,cu,Au,fu,_u;if(u=defaults(u,{strict:!1,filename:null,auto_bind:!1,module_id:"__main__",toplevel:null,classes:void 0}),j=u.module_id,H=u.IMPORTED||{},q=u.IMPORTING||{},q[j]=!0,G={input:"string"==typeof e?tokenizer(e,u.filename):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,in_class:[!1],classes:[{}],labels:[],decorators:[]},u.classes)for(var pu=_$rapyd$_Iterable(u.classes),du=0;du<pu.length;du++)z=pu[du],J=u.classes[z],G.classes[0][z]={"static":J.static,bound:J.bound};return G.token=r(),Q=p(function(){var e,i,p,d,E,S,C;if((n("operator","/")||n("operator","/="))&&(G.peeked=null,G.token=G.input(G.token.value.substr(1))),p=G.token.type,"string"===p)return e=G.in_directives,i=h(),e&&i.body instanceof AST_String&&!n("punc",",")?new AST_Directive({value:i.body.value}):i;if("shebang"===p)return p=G.token.value,r(),new AST_Directive({value:p});if("num"===p||"regexp"===p||"operator"===p||"atom"===p)return h();if("punc"===p){if(p=G.token.value,":"===p)return new AST_BlockStatement({start:G.token,body:k(),end:o()});if("{"===p||"["===p||"("===p)return h();if(";"===p)return r(),new AST_EmptyStatement;s()}else{if("name"===p)return is_token(t(),"punc",":")?m():h();if("keyword"===p){if(p=G.token.value,r(),"break"===p)return F(AST_Break);if("continue"===p)return F(AST_Continue);if("debugger"===p)return f(),new AST_Debugger;if("do"===p)return new AST_Do({body:V(Q),condition:function(){var e;return c("."),l("keyword","while"),e=_u(!0),f(),e}.call(this)});if("while"===p)return new AST_While({condition:_u(!0),body:V(Q)});if("for"===p)return n("name","JS")?T():D();if("from"===p)return Z(!0);if("import"===p)return Z(!1);if("class"===p)return BASELIB["extends"]=!0,u.auto_bind&&(BASELIB.rebind_all=!0),eu();if("def"===p)return d=o(),E=uu(G.in_class.slice(-1)[0]),E.start=d,E.end=o(),S=su(E,!0),S===E?E:new AST_SimpleStatement({start:d,body:S,end:o()});if("if"===p)return w();if("pass"===p)return f(),new AST_EmptyStatement;if("return"===p)return 0===G.in_function&&a("'return' outside of function"),new AST_Return({value:n("punc",";")?function(){return f(),null}.call(this):A()?null:function(){var e;return e=_u(!0),f(),e}.call(this)});if("switch"===p)return new AST_Switch({expression:_(),body:V(R)});if("raise"===p)return G.token.nlb?new AST_Throw({value:new AST_SymbolCatch({name:"_$rapyd$_Exception"})}):(C=_u(!0),f(),new AST_Throw({value:C}));if("try"===p)return O();if("nonlocal"===p)return C=nu(),f(),C;if("const"===p)return C=tu(),f(),C;if("with"===p)return new AST_With({expression:_(),body:Q()});s()}}}),Z=function(e){var u,t,o,a,i,s,c,A;if(u=g(),t=u[0],o=u[1],i=null,a=H[o].classes,e){for(l("keyword","import"),i=[],i.push(M(AST_SymbolVar));n("punc",",");)r(),i.push(M(AST_SymbolVar));for(var f=_$rapyd$_Iterable(i),_=0;_<f.length;_++)s=f[_],c=a[s.name],c&&(G.classes[G.classes.length-1][s.name]={"static":c.static,bound:c.bound})}else for(A in a)c=a[A],c instanceof AST_Class&&(G.classes[G.classes.length-1][o+"."+c.name.name]={"static":c.static,bound:c.bound});return new AST_Import({module:t,key:o,body:function(){return H[o]},argnames:i})},eu=function(){var e,u,t,o,a,i;e=M(AST_SymbolDefun),e||s(),u=G.decorators.indexOf("external"),-1!==u&&G.decorators.splice(u,1),t={"static":[],bound:{}},o=new AST_Class({name:e,module_id:j,parent:function(){var e;return n("punc","(")?(r(),e=ou(!1),c(")"),e):null}.call(this),localvars:[],"static":t.static,external:-1!==u,bound:t.bound,decorators:function(){var e;return e=[],G.decorators.forEach(function(u){e.push(new AST_Decorator({name:u}))}),G.decorators=[],e}.call(this),body:function(u,n){var r;return G.in_class.push(e.name),G.classes[G.classes.length-1][e.name]=t,G.classes.push({}),G.in_function+=1,G.in_directives=!0,G.in_loop=0,G.labels=[],r=k(),G.in_function-=1,G.classes.pop(),G.in_class.pop(),G.in_loop=u,G.labels=n,r}.call(this,G.in_loop,G.labels)});for(i in o.body)if(a=o.body[i],a instanceof AST_Method&&"__init__"===a.name.name){o.init=a;break}return o},uu=function(e,t){var a,l,A,f,_,p,d,E,S;for(a=t===AST_Accessor,l=n("name")?M(e?AST_SymbolDefun:a?AST_SymbolAccessor:AST_SymbolLambda):a&&(n("string")||n("num"))?x():null,e&&!l&&s(),f=!1,e&&(A=G.decorators.indexOf("staticmethod"),-1!==A?(G.decorators.splice(A,1),G.classes[G.classes.length-2][e].static.push(l.name),f=!0):"__init__"!==l.name&&u.auto_bind&&(BASELIB.bind=!0,G.classes[G.classes.length-2][e].bound[l.name]=!0)),c("("),t||(t=e?AST_Method:AST_Function),_=new t({name:l,argnames:function(e){function u(){return Object.prototype.hasOwnProperty.call(a,G.token.value)&&i(o(),"Can't repeat parameter names"),"arguments"===G.token.value&&i(o(),"Can't use the name arguments as a parameter name, it is reserved by JavaScript"),a[G.token.value]=!0,M(AST_SymbolFunarg)}var t,a,s,l;for(t={},s=!0,a={};!n("punc",")");)s?s=!1:c(","),n("operator","**")?(r(),e.kwargs&&i(o(),"Can't define multiple **kwargs in function definition"),e.kwargs=u()):n("operator","*")?(r(),e.starargs&&i(o(),"Can't define multiple *args in function definition"),e.kwargs&&i(o(),"Can't define *args after **kwargs in function definition"),e.starargs=u()):((e.starargs||e.kwargs)&&i(o(),"Can't define a formal parameter after *args or **kwargs"),e.push(u()),n("operator","=")?(e.kwargs&&i(o(),"Can't define an optional formal parameter after **kwargs"),l=o().value,r(),t[l]=_u(!1),e.has_defaults=!0):e.has_defaults&&i(o(),"Can't define required formal parameters after optional formal parameters"));return r(),e.defaults=t,e.is_simple_func=!e.starargs&&!e.kwargs&&!e.has_defaults,e.is_simple_func||(BASELIB["symbolfor()"]=!0),e}.call(this,[]),localvars:[],decorators:function(){var e;return e=[],G.decorators.forEach(function(u){e.push(new AST_Decorator({name:u}))}),G.decorators=[],e}.call(this),body:function(e,u){var n;return G.in_class.push(!1),G.classes.push({}),G.in_function+=1,G.in_directives=!0,G.in_loop=0,G.labels=[],n=k(),G.in_function-=1,G.classes.pop(),G.in_class.pop(),G.in_loop=e,G.labels=u,n}.call(this,G.in_loop,G.labels)}),_ instanceof AST_Method&&(_.static=f),p=C(_.body,!1).filter(function(e,u,n){return n.lastIndexOf(e)===u}),E=0;E<p.length;E++)for(d=0;d<_.argnames.length+1;d++)if(d===_.argnames.length)_.localvars.push(L(AST_SymbolVar,p[E]));else if(d<_.argnames.length&&p[E]===_.argnames[d].name)break;return S=B(_.body),S.forEach(function(e){for(var u,n=_$rapyd$_Iterable(dir(_.localvars).reverse()),t=0;t<n.length;t++)u=n[t],_.localvars[u].name===e&&_.localvars.splice(u,1)}),_},nu=function(e){return new AST_Var({start:o(),definitions:I(e,!1),end:o()})},tu=function(){return new AST_Const({start:o(),definitions:I(!1,!0),end:o()})},ru=function(){var e,u,t;return e=G.token,l("operator","new"),u=ou(!1),n("punc","(")?(r(),t=N(")")):t=[],su(new AST_New({start:e,expression:u,args:t,end:o()}),!0)},ou=function(e){var u,t,a,i,l;if(n("operator","new"))return ru();if(u=G.token,n("punc")){if(t=u.value,"("===t)return r(),a=_u(!0),a.start=u,a.end=G.token,a instanceof AST_SymbolRef&&(a.parens=!0),c(")"),su(a,e);if("["===t)return su(au(),e);if("{"===t)return su(iu(),e);s()}return n("keyword","class")?(r(),i=eu(),i.start=u,i.end=o(),su(i,e)):n("keyword","def")?(r(),l=uu(!1),l.start=u,l.end=o(),su(l,e)):ATOMIC_START_TOKEN[G.token.type]?su(x(),e):void s()},au=p(function(){var e,t,a;if(c("["),e=[],!n("punc","]")){if(e.push(_u(!1)),n("keyword","for"))return r(),t=D(!0),BASELIB.iterable=!0,a=new AST_ListComprehension({statement:e[0],init:t.init,name:t.name,object:t.object,condition:n("punc","]")?null:(l("keyword","if"),_u(!0))}),c("]"),a;if(n("operator","til"))return BASELIB.range=!0,r(),e.push(_u(!1)),a=su(new AST_Call({start:G.token,expression:new AST_SymbolRef({name:"range"}),args:e,end:o()}),!0),c("]"),a;if(n("operator","to"))return BASELIB.range=!0,r(),e.push(new AST_Binary({left:_u(!1),operator:"+",right:new AST_Number({value:1e-6})})),a=su(new AST_Call({start:G.token,expression:new AST_SymbolRef({name:"range"}),args:e,end:o()}),!0),c("]"),a;n("punc","]")||c(",")}return new AST_Array({elements:e.concat(N("]",!u.strict,!0))})}),iu=p(function(){var e,t,a,i,s,l,A;for(c("{"),t=!0,e=[];!n("punc","}")&&(t?t=!1:c(","),u.strict||!n("punc","}"));){if(a=G.token,i=a.type,s=$(),l=s.value,A="string"===s.type?!0:!1,"name"===i&&!n("punc",":")){if("get"===l){e.push(new AST_ObjectGetter({start:a,key:l,quoted:A,value:uu(!1,AST_Accessor),end:o()}));continue}if("set"===l){e.push(new AST_ObjectSetter({start:a,key:l,quoted:A,value:uu(!1,AST_Accessor),end:o()}));continue}}c(":"),e.push(new AST_ObjectKeyVal({start:a,key:l,quoted:A,value:_u(!1),end:o()}))}return r(),new AST_Object({properties:e})}),su=function(e,u){var t,a,l,A,f,_,p,d,E;if(t=e.start,n("punc","."))return r(),su(new AST_Dot({start:t,expression:e,property:U(),end:o()}),u);if(n("punc","[")&&!G.token.nlb)return r(),l=[],a=!1,l.push(n("punc",":")?null:_u(!1)),n("punc",":")&&(a=!0,r(),n("punc",":")?l.push(null):n("punc","]")||l.push(_u(!1))),n("punc",":")&&(BASELIB.eslice=!0,r(),n("punc","]")?s():l.push(_u(!1))),c("]"),a?n("operator")&&"="===G.token.value?(r(),su(new AST_Splice({start:t,expression:e,property:l[0]||new AST_Number({value:0}),property2:l[1],assignment:_u(!0),end:o()}),u)):3===l.length?(l.unshift(l.pop()),l[l.length-1]?l[l.length-2]||(l[l.length-2]=new AST_Undefined):(l.pop(),l[l.length-1]||l.pop()),su(new AST_Call({start:t,expression:new AST_SymbolRef({name:"eslice"}),args:[e].concat(l),end:o()}),u)):(l=function(){for(var e,u=_$rapyd$_Iterable(l),n=[],t=0;t<u.length;t++)e=u[t],n.push(null===e?new AST_Number({value:0}):e);return n}(),su(new AST_Call({start:t,expression:new AST_Dot({start:t,expression:e,property:"slice",end:o()}),args:l,end:o()}),u)):su(new AST_Sub({start:t,expression:e,property:l[0]||new AST_Number({value:0}),end:o()}),u);if(u&&n("punc","(")&&!G.token.nlb){if(r(),e instanceof AST_SymbolRef&&"JS"===e.name)return A=_u(!1),A instanceof AST_String||i(o(),"Compile-time function JS() can't process variables or expressions"),f=new AST_Verbatim({start:t,value:A.value,end:o()}),c(")"),su(f,!0);if(!e.parens&&v(e))return su(new AST_New({start:t,expression:e,args:P(),end:o()}),!0);if(e instanceof AST_Dot&&(_=v(e.expression)),_)return p=e,"__init__"===p.property&&(p.property="constructor"),su(new AST_ClassCall({start:t,"class":e.expression,method:p.property,"static":W(_,p.property),args:P(),end:o()}),!0);if(e instanceof AST_SymbolRef)if(d=e.name,"abs"===d||"bind"===d||"rebind_all"===d||"dir"===d||"enumerate"===d||"len"===d||"mixin"===d||"print"===d||"range"===d||"reversed"===d||"sum"===d||"getattr"===d||"setattr"===d||"hasattr"===d)BASELIB[d]=!0;else{if("type"===d)return new AST_UnaryPrefix({start:t,operator:"typeof",expression:P()[0],end:o()});if("isinstance"===d)return E=P(),new AST_Binary({start:t,operator:"instanceof",left:E[0],right:E[1],end:o()});"symbolfor"===d&&(BASELIB[d+"()"]=!0)}return su(new AST_Call({start:t,expression:e,args:P(),end:o()}),!0)}return e},lu=function(e){var u,a,i;if(u=G.token,n("operator")&&UNARY_PREFIX(u.value)){if(r(),"@"===u.value){if(n("name")&&("@"===t().value||"def"===t().value||"class"===t().value))return G.decorators.push(G.token.value),r(),new AST_EmptyStatement;s()}return a=X(AST_UnaryPrefix,u.value,lu(e)),a.start=u,a.end=o(),a}for(i=ou(e);n("operator")&&UNARY_POSTFIX(G.token.value)&&!G.token.nlb;)i=X(AST_UnaryPostfix,G.token.value,i),i.start=u,i.end=G.token,r();return i},cu=function(e,u,o){var a,i,s,l,c;return i=n("operator")?G.token.value:null,a=!1,"!"===i&&"operator"===t().type&&"in"===t().value&&(r(),i="in",a=!0),"in"===i&&(o?i=null:BASELIB[i]=!0),s=null!==i?PRECEDENCE[i]:null,null!==s&&s>u?(r(),l=cu(lu(!0),s,o),c=new AST_Binary({start:e.start,left:e,operator:i,right:l,end:l.end}),a&&(c=new AST_UnaryPrefix({start:e.start,operator:"!",expression:c,end:l.end})),cu(c,u,o)):e},Au=function(e){var u,o,a;return u=G.token,o=Y(e),n("operator","?")?(r(),a=_u(!1),c(":"),new AST_Conditional({start:u,condition:o,consequent:a,alternative:_u(!1,e),end:t()})):o},fu=function(e){var u,t,i;if(u=G.token,t=Au(e),i=G.token.value,n("operator")&&ASSIGNMENT(i)){if(K(t))return r(),new AST_Assign({start:u,left:t,operator:i,right:fu(e),end:o()});a("Invalid assignment")}return t},_u=function(e,u){var o,a,i,s;if(o=G.token,s=fu(u),e){for(a=[s],i=[];n("punc",",")&&!t().nlb;){if(r(),s instanceof AST_Assign)return a[a.length-1]=a.slice(-1)[0].left,new AST_Assign({start:o,left:1===a.length?a[0]:new AST_Array({elements:a}),operator:s.operator,right:new AST_Seq({car:s.right,cdr:_u(!0,u)}),end:t()});s=fu(u),a.push(s)}return a.length>1&&a.slice(-1)[0]instanceof AST_Assign?(a[a.length-1]=a.slice(-1)[0].left,new AST_Assign({start:o,left:new AST_Array({elements:a}),operator:s.operator,right:s.right,end:t()})):function l(e){return 1===e.length?e[0]:new AST_Seq({start:o,car:e.shift(),cdr:l(e),end:t()})}.call(this,a)}return s},function(){function e(e,u,n){return n.lastIndexOf(e)===u}var t,r,a,i,s,l,c,A,f;for(t=G.token,r=[],s=!0;!n("eof");)a=Q(),s&&a instanceof AST_Directive&&0===a.value.indexOf("#!")?i=a.value:r.push(a),s=!1;return l=o(),c=u.toplevel,c?(c.body=c.body.concat(r),c.end=l):c=new AST_Toplevel({start:t,body:r,strict:function(){for(var e,u=_$rapyd$_Iterable(r),n=0;n<u.length;n++)if(e=u[n],e instanceof AST_Directive&&"use strict"===e.value)return!0;return!1}.call(this),shebang:i,end:l}),c.nonlocalvars=B(c.body),A=C(c.body).filter(e),f=E(c.body).filter(e),c.localvars=[],A.forEach(function(e){c.nonlocalvars.indexOf(e)<0&&c.localvars.push(L(AST_SymbolVar,e))}),c.exports=c.localvars.concat(f).filter(e),c.submodules=[],c.classes=S(c.body),c.import_order=Object.keys(H).length,c.module_id=j,H[j]=c,c.imports=H,c.baselib=BASELIB,q[j]=!1,c}.call(this)}var ALL_KEYWORDS,KEYWORDS,RESERVED_WORDS,KEYWORDS_BEFORE_EXPRESSION,KEYWORDS_ATOM,NATIVE_CLASSES,COMMON_STATIC,OPERATOR_CHARS,RE_HEX_NUMBER,RE_OCT_NUMBER,RE_DEC_NUMBER,OPERATORS,OP_MAP,WHITESPACE_CHARS,PUNC_BEFORE_EXPRESSION,PUNC_CHARS,REGEXP_MODIFIERS,UNICODE,BASELIB,IDENTIFIER_PAT,EX_EOF,UNARY_PREFIX,UNARY_POSTFIX,ASSIGNMENT,PRECEDENCE,STATEMENTS_WITH_LABELS,ATOMIC_START_TOKEN;KEYWORDS="as break case class const continue debugger default def del do elif else except finally for from if import in instanceof is new nonlocal pass raise return switch til to try typeof var void while with or and not",KEYWORDS_ATOM="False None True",RESERVED_WORDS="abstract boolean byte char double enum export extends final float goto implements int interface long native package private protected public short static super synchronized this throws transient volatile "+KEYWORDS_ATOM+" "+KEYWORDS,KEYWORDS_BEFORE_EXPRESSION="return new del raise elif else if",ALL_KEYWORDS=RESERVED_WORDS+" "+KEYWORDS_BEFORE_EXPRESSION,KEYWORDS=makePredicate(KEYWORDS),RESERVED_WORDS=makePredicate(RESERVED_WORDS),KEYWORDS_BEFORE_EXPRESSION=makePredicate(KEYWORDS_BEFORE_EXPRESSION),KEYWORDS_ATOM=makePredicate(KEYWORDS_ATOM),NATIVE_CLASSES={Image:{},RegExp:{},Error:{},Object:{"static":["getOwnPropertyNames","keys","create"]},String:{"static":["fromCharCode"]},Array:{"static":["isArray","from","of"]},Number:{"static":["isFinite","isNaN"]},Function:{},Date:{"static":["UTC","now","parse"]},Boolean:{},ArrayBuffer:{},DataView:{},Float32Array:{},Float64Array:{},Int16Array:{},Int32Array:{},Int8Array:{},Uint16Array:{},Uint32Array:{},Uint8Array:{},Uint8ClampedArray:{},Map:{},WeakMap:{},Set:{},WeakSet:{}},COMMON_STATIC=["call","apply","bind","toString"],OPERATOR_CHARS=makePredicate(characters("+-*&%=<>!?|~^@")),RE_HEX_NUMBER=/^0x[0-9a-f]+$/i,RE_OCT_NUMBER=/^0[0-7]+$/,RE_DEC_NUMBER=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,OPERATORS=makePredicate(["in","instanceof","typeof","new","void","del","++","--","+","-","not","~","&","|","^","**","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","is","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","and","or","til","to","@"]),OP_MAP={or:"||",and:"&&",not:"!",del:"delete",None:"null",is:"===","==":"===","!=":"!=="},WHITESPACE_CHARS=makePredicate(characters("  \n\r	\f​᠎             　")),PUNC_BEFORE_EXPRESSION=makePredicate(characters("[{(,.;:")),PUNC_CHARS=makePredicate(characters("[]{}(),;:")),REGEXP_MODIFIERS=makePredicate(characters("gmsiy")),UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")},BASELIB={},IDENTIFIER_PAT=/^[a-z_$][_a-z0-9$]*$/i,_$rapyd$_extends(ImportError,Error),ImportError.prototype.__init__=function(e){var u=this;
u.message=e},JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack},EX_EOF={},UNARY_PREFIX=makePredicate(["typeof","void","delete","--","++","!","~","-","+","@"]),UNARY_POSTFIX=makePredicate(["--","++"]),ASSIGNMENT=makePredicate(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),PRECEDENCE=function(e,u){var n,t,r;for(r=0;r<e.length;r++)for(n=e[r],t=0;t<n.length;t++)u[n[t]]=r+1;return u}.call(this,[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),STATEMENTS_WITH_LABELS=array_to_hash(["for","do","while","switch"]),ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]);
;/*!/utils.js*/
function array_to_hash(n){var t,r;for(t=Object.create(null),r=0;r<len(n);r++)t[n[r]]=!0;return t}function slice(n,t){return Array.prototype.slice.call(n,t||0)}function characters(n){return n.split("")}function member(n,t){var r;for(r=t.length-1;r>-1;r-=1)if(t[r]===n)return!0;return!1}function find_if(n,t){var r;for(r=0;r<len(t);r++)if(n(t[r]))return t[r]}function repeat_string(n,t){var r;return 0>=t?"":1===t?n:(r=repeat_string(n,t>>1),r+=r,1&t&&(r+=n),r)}function DefaultsError(n,t){this.msg=n,this.defs=t}function defaults(n,t,r){var e,i;if(n===!0&&(n={}),e=n||{},r)for(i in e)if(e.hasOwnProperty(i)&&!t.hasOwnProperty(i))throw new DefaultsError("`"+i+"` is not a supported option",t);for(i in t)t.hasOwnProperty(i)&&(e[i]=n&&n.hasOwnProperty(i)?n[i]:t[i]);return e}function merge(n,t){var r;for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function noop(){}function push_uniq(n,t){n.indexOf(t)<0&&n.push(t)}function string_template(n,t){return n.replace(/\{(.+?)\}/g,function(n,r){return t[r]})}function remove(n,t){var r;for(r=n.length-1;r>-1;r-=1)n[r]===t&&n.splice(r,1)}function mergeSort(n,t){function r(n,r){var e,i,s,u;for(e=[],i=0,s=0,u=0;i<n.length&&s<r.length;)t(n[i],r[s])<=0?(e[u]=n[i],i+=1):(e[u]=r[s],s+=1),u+=1;return i<n.length&&e.push.apply(e,n.slice(i)),s<r.length&&e.push.apply(e,r.slice(s)),e}function e(n){var t,i,s;return n.length<=1?n:(t=Math.floor(n.length/2),i=n.slice(0,t),s=n.slice(t),i=e(i),s=e(s),r(i,s))}return n.length<2?n.slice():e(n)}function set_difference(n,t){return n.filter(function(n){return t.indexOf(n)<0})}function set_intersection(n,t){return n.filter(function(n){return t.indexOf(n)>=0})}function makePredicate(n){function t(n){var t;if(1===n.length)return o+="return str === "+JSON.stringify(n[0])+";";for(o+="switch(str){",t=0;t<len(n);t++)o+="case "+JSON.stringify(n[t])+":";o+="return true}return false;"}var r,e,i,s,u,o;for(Array.isArray(n)||(n=n.split(" ")),o="",r=[],u=0;u<len(n);u++){for(e=!1,i=0;i<len(r);i++)if(r[i][0].length===n[u].length){r[i].push(n[u]),e=!0;break}e||r.push([n[u]])}if(r.length>3){for(r.sort(function(n,t){return t.length-n.length}),o+="switch(str.length){",u=0;u<len(r);u++)s=r[u],o+="case "+s[0].length+":",t(s);o+="}"}else t(n);return new Function("str",o)}function Dictionary(){this._values=Object.create(null),this._size=0}var MAP;MAP=function(){function n(n,s,u){function o(){var o,h;return h=s(n[c],c),o=h instanceof e,o&&(h=h.v),h instanceof t?(h=h.v,h instanceof r?a.push.apply(a,u?h.v.slice().reverse():h.v):a.push(h)):h!==i&&(h instanceof r?f.push.apply(f,u?h.v.slice().reverse():h.v):f.push(h)),o}var f,a,c;if(f=[],a=[],Array.isArray(n))if(u){for(c=n.length-1;c>-1&&!o();c-=1);f.reverse(),a.reverse()}else for(c=0;c<len(n)&&!o();c++);else for(c in n)if(n.hasOwnProperty(c)&&o())break;return a.concat(f)}function t(n){this.v=n}function r(n){this.v=n}function e(n){this.v=n}var i;return n.at_top=function(n){return new t(n)},n.splice=function(n){return new r(n)},n.last=function(n){return new e(n)},i=n.skip={},n}.call(this),Dictionary.prototype={set:function(n,t){return this.has(n)||(this._size+=1),this._values["$"+n]=t,this},add:function(n,t){return this.has(n)?this.get(n).push(t):this.set(n,[t]),this},get:function(n){return this._values["$"+n]},del_:function(n){return this.has(n)&&(this._size-=1,delete this._values["$"+n]),this},has:function(n){return _$rapyd$_in("$"+n,this._values)},each:function(n){var t;for(t in this._values)n(this._values[t],t.substr(1))},size:function(){return this._size},map:function(n){var t,r;t=[];for(r in this._values)t.push(n(this._values[r],r.substr(1)));return t}};